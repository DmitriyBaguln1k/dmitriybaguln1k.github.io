<?php return array (
  'unique_key' => 'category',
  'preserve_keys' => false,
  'update_object' => true,
  'related_objects' => 
  array (
    'Chunks' => 
    array (
      '8f1bfc1e93fc4592db721dea213f91be' => 
      array (
        'preserve_keys' => false,
        'update_object' => false,
        'unique_key' => 'name',
        'class' => 'modChunk',
        'object' => '{"id":0,"source":1,"property_preprocess":0,"name":"tpl.ecMessages.Row","description":"","editor_type":0,"category":0,"cache_type":0,"snippet":"<div id=\\"ec-[[+thread_name]]-message-[[+id]]\\" class=\\"ec-message\\">\\n    <p><strong>[[+user_name]]<\\/strong><span class=\\"ec-message__date\\"> [[+date:dateAgo]]<\\/span><\\/p>\\n    <div class=\\"ec-stars\\">\\n        <span class=\\"rating-[[+rating]]\\"><\\/span>\\n    <\\/div>\\n    <p>[[+text]]<\\/p>\\n    [[+reply_text]]\\n<\\/div>\\n\\n<!--ec_reply_text <div class=\\"ec-message__reply\\">[[+reply_author]]<p>[[+reply_text]]<\\/p><\\/div>-->\\n<!--ec_reply_author <p><strong>[[+reply_author]]<\\/strong><\\/p>-->","locked":0,"properties":null,"static":0,"static_file":"core\\/components\\/easycomm\\/elements\\/chunks\\/chunk.ec_messages_row.tpl","content":"<div id=\\"ec-[[+thread_name]]-message-[[+id]]\\" class=\\"ec-message\\">\\n    <p><strong>[[+user_name]]<\\/strong><span class=\\"ec-message__date\\"> [[+date:dateAgo]]<\\/span><\\/p>\\n    <div class=\\"ec-stars\\">\\n        <span class=\\"rating-[[+rating]]\\"><\\/span>\\n    <\\/div>\\n    <p>[[+text]]<\\/p>\\n    [[+reply_text]]\\n<\\/div>\\n\\n<!--ec_reply_text <div class=\\"ec-message__reply\\">[[+reply_author]]<p>[[+reply_text]]<\\/p><\\/div>-->\\n<!--ec_reply_author <p><strong>[[+reply_author]]<\\/strong><\\/p>-->"}',
        'guid' => '9aad44a11c3a928633b528a1a38e6656',
        'native_key' => 0,
        'signature' => '07bb0121c7c5bc3cbd56ff59a65e027a',
      ),
      '19624405f5c23afbb2bc23ea0a7c9497' => 
      array (
        'preserve_keys' => false,
        'update_object' => false,
        'unique_key' => 'name',
        'class' => 'modChunk',
        'object' => '{"id":0,"source":1,"property_preprocess":0,"name":"tpl.ecForm","description":"","editor_type":0,"category":0,"cache_type":0,"snippet":"<h2>[[%ec_fe_message_add]]<\\/h2>\\n<form class=\\"form well ec-form\\" method=\\"post\\" role=\\"form\\" id=\\"ec-form-[[+fid]]\\" data-fid=\\"[[+fid]]\\" action=\\"\\">\\n    <input type=\\"hidden\\" name=\\"thread\\" value=\\"[[+thread]]\\">\\n\\n    <div class=\\"form-group ec-antispam\\">\\n        <label for=\\"ec-[[+antispam_field]]-[[+fid]]\\" class=\\"control-label\\">[[%ec_fe_message_antismap]]<\\/label>\\n        <input type=\\"text\\" name=\\"[[+antispam_field]]\\" class=\\"form-control\\" id=\\"ec-[[+antispam_field]]-[[+fid]]\\" value=\\"\\" \\/>\\n    <\\/div>\\n\\n    <div class=\\"form-group\\">\\n        <label for=\\"ec-user_name-[[+fid]]\\" class=\\"control-label\\">[[%ec_fe_message_user_name]]<\\/label>\\n        <input type=\\"text\\" name=\\"user_name\\" class=\\"form-control\\" id=\\"ec-user_name-[[+fid]]\\" value=\\"[[+user_name]]\\" \\/>\\n        <span class=\\"ec-error help-block\\" id=\\"ec-user_name-error-[[+fid]]\\"><\\/span>\\n    <\\/div>\\n\\n    <div class=\\"form-group\\">\\n        <label for=\\"ec-user_email-[[+fid]]\\" class=\\"control-label\\">[[%ec_fe_message_user_email]]<\\/label>\\n        <input type=\\"text\\" name=\\"user_email\\" class=\\"form-control\\" id=\\"ec-user_email-[[+fid]]\\" value=\\"[[+user_email]]\\" \\/>\\n        <span class=\\"ec-error help-block\\" id=\\"ec-user_email-error-[[+fid]]\\"><\\/span>\\n    <\\/div>\\n\\n    <div class=\\"form-group\\">\\n        <label for=\\"ec-user_contacts-[[+fid]]\\" class=\\"control-label\\">[[%ec_fe_message_user_contacts]]<\\/label>\\n        <input type=\\"text\\" name=\\"user_contacts\\" class=\\"form-control\\" id=\\"ec-user_contacts-[[+fid]]\\" value=\\"[[+user_contacts]]\\" \\/>\\n        <span class=\\"ec-error help-block\\" id=\\"ec-user_contacts-error-[[+fid]]\\"><\\/span>\\n    <\\/div>\\n\\n    <div class=\\"form-group\\">\\n        <label for=\\"ec-subject-[[+fid]]\\" class=\\"control-label\\">[[%ec_fe_message_subject]]<\\/label>\\n        <input type=\\"text\\" name=\\"subject\\" class=\\"form-control\\" id=\\"ec-subject-[[+fid]]\\" value=\\"[[+subject]]\\" \\/>\\n        <span class=\\"ec-error help-block\\" id=\\"ec-subject-error-[[+fid]]\\"><\\/span>\\n    <\\/div>\\n\\n    <div class=\\"form-group\\">\\n        <label for=\\"ec-rating-[[+fid]]\\" class=\\"control-label\\">[[%ec_fe_message_rating]]<\\/label>\\n        <input type=\\"hidden\\" name=\\"rating\\" id=\\"ec-rating-[[+fid]]\\" value=\\"[[+rating]]\\" \\/>\\n        <div class=\\"ec-rating ec-clearfix\\" data-storage-id=\\"ec-rating-[[+fid]]\\">\\n            <div class=\\"ec-rating-stars\\">\\n                <span data-rating=\\"1\\" data-description=\\"[[%ec_fe_message_rating_1]]\\"><\\/span>\\n                <span data-rating=\\"2\\" data-description=\\"[[%ec_fe_message_rating_2]]\\"><\\/span>\\n                <span data-rating=\\"3\\" data-description=\\"[[%ec_fe_message_rating_3]]\\"><\\/span>\\n                <span data-rating=\\"4\\" data-description=\\"[[%ec_fe_message_rating_4]]\\"><\\/span>\\n                <span data-rating=\\"5\\" data-description=\\"[[%ec_fe_message_rating_5]]\\"><\\/span>\\n            <\\/div>\\n            <div class=\\"ec-rating-description\\">[[%ec_fe_message_rating_0]]<\\/div>\\n        <\\/div>\\n        <span class=\\"ec-error help-block\\" id=\\"ec-rating-error-[[+fid]]\\"><\\/span>\\n    <\\/div>\\n\\n    <div class=\\"form-group\\">\\n        <label for=\\"ec-text-[[+fid]]\\" class=\\"control-label\\">[[%ec_fe_message_text]]<\\/label>\\n        <textarea type=\\"text\\" name=\\"text\\" class=\\"form-control\\" rows=\\"5\\" id=\\"ec-text-[[+fid]]\\">[[+text]]<\\/textarea>\\n        <span class=\\"ec-error help-block\\" id=\\"ec-text-error-[[+fid]]\\"><\\/span>\\n    <\\/div>\\n\\n    [[+recaptcha]]\\n\\n    <div class=\\"form-actions\\">\\n        <input type=\\"submit\\" class=\\"btn btn-primary\\" name=\\"send\\" value=\\"[[%ec_fe_send]]\\" \\/>\\n    <\\/div>\\n<\\/form>\\n<div id=\\"ec-form-success-[[+fid]]\\"><\\/div>","locked":0,"properties":null,"static":0,"static_file":"core\\/components\\/easycomm\\/elements\\/chunks\\/chunk.ec_form.tpl","content":"<h2>[[%ec_fe_message_add]]<\\/h2>\\n<form class=\\"form well ec-form\\" method=\\"post\\" role=\\"form\\" id=\\"ec-form-[[+fid]]\\" data-fid=\\"[[+fid]]\\" action=\\"\\">\\n    <input type=\\"hidden\\" name=\\"thread\\" value=\\"[[+thread]]\\">\\n\\n    <div class=\\"form-group ec-antispam\\">\\n        <label for=\\"ec-[[+antispam_field]]-[[+fid]]\\" class=\\"control-label\\">[[%ec_fe_message_antismap]]<\\/label>\\n        <input type=\\"text\\" name=\\"[[+antispam_field]]\\" class=\\"form-control\\" id=\\"ec-[[+antispam_field]]-[[+fid]]\\" value=\\"\\" \\/>\\n    <\\/div>\\n\\n    <div class=\\"form-group\\">\\n        <label for=\\"ec-user_name-[[+fid]]\\" class=\\"control-label\\">[[%ec_fe_message_user_name]]<\\/label>\\n        <input type=\\"text\\" name=\\"user_name\\" class=\\"form-control\\" id=\\"ec-user_name-[[+fid]]\\" value=\\"[[+user_name]]\\" \\/>\\n        <span class=\\"ec-error help-block\\" id=\\"ec-user_name-error-[[+fid]]\\"><\\/span>\\n    <\\/div>\\n\\n    <div class=\\"form-group\\">\\n        <label for=\\"ec-user_email-[[+fid]]\\" class=\\"control-label\\">[[%ec_fe_message_user_email]]<\\/label>\\n        <input type=\\"text\\" name=\\"user_email\\" class=\\"form-control\\" id=\\"ec-user_email-[[+fid]]\\" value=\\"[[+user_email]]\\" \\/>\\n        <span class=\\"ec-error help-block\\" id=\\"ec-user_email-error-[[+fid]]\\"><\\/span>\\n    <\\/div>\\n\\n    <div class=\\"form-group\\">\\n        <label for=\\"ec-user_contacts-[[+fid]]\\" class=\\"control-label\\">[[%ec_fe_message_user_contacts]]<\\/label>\\n        <input type=\\"text\\" name=\\"user_contacts\\" class=\\"form-control\\" id=\\"ec-user_contacts-[[+fid]]\\" value=\\"[[+user_contacts]]\\" \\/>\\n        <span class=\\"ec-error help-block\\" id=\\"ec-user_contacts-error-[[+fid]]\\"><\\/span>\\n    <\\/div>\\n\\n    <div class=\\"form-group\\">\\n        <label for=\\"ec-subject-[[+fid]]\\" class=\\"control-label\\">[[%ec_fe_message_subject]]<\\/label>\\n        <input type=\\"text\\" name=\\"subject\\" class=\\"form-control\\" id=\\"ec-subject-[[+fid]]\\" value=\\"[[+subject]]\\" \\/>\\n        <span class=\\"ec-error help-block\\" id=\\"ec-subject-error-[[+fid]]\\"><\\/span>\\n    <\\/div>\\n\\n    <div class=\\"form-group\\">\\n        <label for=\\"ec-rating-[[+fid]]\\" class=\\"control-label\\">[[%ec_fe_message_rating]]<\\/label>\\n        <input type=\\"hidden\\" name=\\"rating\\" id=\\"ec-rating-[[+fid]]\\" value=\\"[[+rating]]\\" \\/>\\n        <div class=\\"ec-rating ec-clearfix\\" data-storage-id=\\"ec-rating-[[+fid]]\\">\\n            <div class=\\"ec-rating-stars\\">\\n                <span data-rating=\\"1\\" data-description=\\"[[%ec_fe_message_rating_1]]\\"><\\/span>\\n                <span data-rating=\\"2\\" data-description=\\"[[%ec_fe_message_rating_2]]\\"><\\/span>\\n                <span data-rating=\\"3\\" data-description=\\"[[%ec_fe_message_rating_3]]\\"><\\/span>\\n                <span data-rating=\\"4\\" data-description=\\"[[%ec_fe_message_rating_4]]\\"><\\/span>\\n                <span data-rating=\\"5\\" data-description=\\"[[%ec_fe_message_rating_5]]\\"><\\/span>\\n            <\\/div>\\n            <div class=\\"ec-rating-description\\">[[%ec_fe_message_rating_0]]<\\/div>\\n        <\\/div>\\n        <span class=\\"ec-error help-block\\" id=\\"ec-rating-error-[[+fid]]\\"><\\/span>\\n    <\\/div>\\n\\n    <div class=\\"form-group\\">\\n        <label for=\\"ec-text-[[+fid]]\\" class=\\"control-label\\">[[%ec_fe_message_text]]<\\/label>\\n        <textarea type=\\"text\\" name=\\"text\\" class=\\"form-control\\" rows=\\"5\\" id=\\"ec-text-[[+fid]]\\">[[+text]]<\\/textarea>\\n        <span class=\\"ec-error help-block\\" id=\\"ec-text-error-[[+fid]]\\"><\\/span>\\n    <\\/div>\\n\\n    [[+recaptcha]]\\n\\n    <div class=\\"form-actions\\">\\n        <input type=\\"submit\\" class=\\"btn btn-primary\\" name=\\"send\\" value=\\"[[%ec_fe_send]]\\" \\/>\\n    <\\/div>\\n<\\/form>\\n<div id=\\"ec-form-success-[[+fid]]\\"><\\/div>"}',
        'guid' => '93a02b47a83a0caeb3d6986044e8e01b',
        'native_key' => 0,
        'signature' => '402d3a6671791dcc56ecc6efa5930389',
      ),
      '12fb13913c35f0aab99ac3e6645bd134' => 
      array (
        'preserve_keys' => false,
        'update_object' => false,
        'unique_key' => 'name',
        'class' => 'modChunk',
        'object' => '{"id":0,"source":1,"property_preprocess":0,"name":"tpl.ecForm.ReCaptcha","description":"","editor_type":0,"category":0,"cache_type":0,"snippet":"<div class=\\"form-group\\">\\r\\n    <div class=\\"ec-captcha\\" id=\\"ec-captcha-[[+fid]]\\"><\\/div>\\r\\n    <span class=\\"ec-error help-block\\" id=\\"ec-captcha-error-[[+fid]]\\"><\\/span>\\r\\n<\\/div>","locked":0,"properties":null,"static":0,"static_file":"core\\/components\\/easycomm\\/elements\\/chunks\\/chunk.ec_form_recaptcha.tpl","content":"<div class=\\"form-group\\">\\r\\n    <div class=\\"ec-captcha\\" id=\\"ec-captcha-[[+fid]]\\"><\\/div>\\r\\n    <span class=\\"ec-error help-block\\" id=\\"ec-captcha-error-[[+fid]]\\"><\\/span>\\r\\n<\\/div>"}',
        'guid' => 'b8603193c2ded2f33e112679e61f8314',
        'native_key' => 0,
        'signature' => '85b5c68d08e193234aacca58a4a2acbc',
      ),
      '1ca7e85e49c47140bdc27a69c78e7a3a' => 
      array (
        'preserve_keys' => false,
        'update_object' => false,
        'unique_key' => 'name',
        'class' => 'modChunk',
        'object' => '{"id":0,"source":1,"property_preprocess":0,"name":"tpl.ecForm.Success","description":"","editor_type":0,"category":0,"cache_type":0,"snippet":"<div class=\\"alert alert-success\\" role=\\"alert\\">\\n    [[%ec_fe_send_success]]\\n<\\/div>","locked":0,"properties":null,"static":0,"static_file":"core\\/components\\/easycomm\\/elements\\/chunks\\/chunk.ec_form_success.tpl","content":"<div class=\\"alert alert-success\\" role=\\"alert\\">\\n    [[%ec_fe_send_success]]\\n<\\/div>"}',
        'guid' => '0144c236f15341a78149a2b285f4af00',
        'native_key' => 0,
        'signature' => '966e4f50bc9bca2166ee33ce12c70440',
      ),
      '1d454059f6616ad3c619e6b2773b1dd1' => 
      array (
        'preserve_keys' => false,
        'update_object' => false,
        'unique_key' => 'name',
        'class' => 'modChunk',
        'object' => '{"id":0,"source":1,"property_preprocess":0,"name":"tpl.ecForm.New.Email.User","description":"","editor_type":0,"category":0,"cache_type":0,"snippet":"\\u0417\\u0434\\u0440\\u0430\\u0432\\u0441\\u0442\\u0432\\u0443\\u0439\\u0442\\u0435, [[+user_name]]!\\n<br \\/>\\n\\u0412\\u044b \\u043e\\u0441\\u0442\\u0430\\u0432\\u0438\\u043b\\u0438 \\u0441\\u043e\\u043e\\u0431\\u0449\\u0435\\u043d\\u0438\\u0435 \\u043d\\u0430 \\u0441\\u0430\\u0439\\u0442\\u0435 [[++site_url]]:\\n<br \\/>\\n<br \\/>\\n<div style=\\"white-space:pre;background: #f0f0f0;padding: 10px;border: solid 1px #eee;\\">[[+text]]<\\/div>\\n<br \\/><br \\/>\\n\\u0412\\u0430\\u0448\\u0435 \\u0441\\u043e\\u043e\\u0431\\u0449\\u0435\\u043d\\u0438\\u0435 \\u0431\\u0443\\u0434\\u0435\\u0442 \\u043e\\u043f\\u0443\\u0431\\u043b\\u0438\\u043a\\u043e\\u0432\\u0430\\u043d\\u043e \\u043f\\u043e\\u0441\\u043b\\u0435 \\u043f\\u0440\\u043e\\u0432\\u0435\\u0440\\u043a\\u0438 \\u0430\\u0434\\u043c\\u0438\\u043d\\u0438\\u0441\\u0442\\u0440\\u0430\\u0442\\u043e\\u0440\\u043e\\u043c.\\n<br \\/>\\n<br \\/>\\n\\u0421 \\u0443\\u0432\\u0430\\u0436\\u0435\\u043d\\u0438\\u0435\\u043c, [[++site_name]].","locked":0,"properties":null,"static":0,"static_file":"core\\/components\\/easycomm\\/elements\\/chunks\\/chunk.ec_form_new_email_user.tpl","content":"\\u0417\\u0434\\u0440\\u0430\\u0432\\u0441\\u0442\\u0432\\u0443\\u0439\\u0442\\u0435, [[+user_name]]!\\n<br \\/>\\n\\u0412\\u044b \\u043e\\u0441\\u0442\\u0430\\u0432\\u0438\\u043b\\u0438 \\u0441\\u043e\\u043e\\u0431\\u0449\\u0435\\u043d\\u0438\\u0435 \\u043d\\u0430 \\u0441\\u0430\\u0439\\u0442\\u0435 [[++site_url]]:\\n<br \\/>\\n<br \\/>\\n<div style=\\"white-space:pre;background: #f0f0f0;padding: 10px;border: solid 1px #eee;\\">[[+text]]<\\/div>\\n<br \\/><br \\/>\\n\\u0412\\u0430\\u0448\\u0435 \\u0441\\u043e\\u043e\\u0431\\u0449\\u0435\\u043d\\u0438\\u0435 \\u0431\\u0443\\u0434\\u0435\\u0442 \\u043e\\u043f\\u0443\\u0431\\u043b\\u0438\\u043a\\u043e\\u0432\\u0430\\u043d\\u043e \\u043f\\u043e\\u0441\\u043b\\u0435 \\u043f\\u0440\\u043e\\u0432\\u0435\\u0440\\u043a\\u0438 \\u0430\\u0434\\u043c\\u0438\\u043d\\u0438\\u0441\\u0442\\u0440\\u0430\\u0442\\u043e\\u0440\\u043e\\u043c.\\n<br \\/>\\n<br \\/>\\n\\u0421 \\u0443\\u0432\\u0430\\u0436\\u0435\\u043d\\u0438\\u0435\\u043c, [[++site_name]]."}',
        'guid' => '4f53b1022a612de7f8cd653e0a7c730b',
        'native_key' => 0,
        'signature' => '1282f0ae7192ce525ed1e66bfc89269b',
      ),
      '1600d92d430f02c25d3f1bb2f8d2c019' => 
      array (
        'preserve_keys' => false,
        'update_object' => false,
        'unique_key' => 'name',
        'class' => 'modChunk',
        'object' => '{"id":0,"source":1,"property_preprocess":0,"name":"tpl.ecForm.New.Email.Manager","description":"","editor_type":0,"category":0,"cache_type":0,"snippet":"\\u041d\\u0430 \\u0441\\u0430\\u0439\\u0442\\u0435 [[++site_url]] \\u0431\\u044b\\u043b\\u043e \\u043e\\u0441\\u0442\\u0430\\u0432\\u043b\\u0435\\u043d\\u043e \\u043d\\u043e\\u0432\\u043e\\u0435 \\u0441\\u043e\\u043e\\u0431\\u0449\\u0435\\u043d\\u0438\\u0435:\\n<br \\/>\\n<br \\/>\\n\\u0410\\u0432\\u0442\\u043e\\u0440: <span style=\\"font-weight: bold\\">[[+user_name]]<\\/span>\\n<br\\/>\\n\\u042d\\u043b\\u0435\\u043a\\u0442\\u0440\\u043e\\u043d\\u043d\\u0430\\u044f \\u043f\\u043e\\u0447\\u0442\\u0430: <span style=\\"font-weight: bold\\">[[+user_email]]<\\/span>\\n<br\\/>\\n\\u041a\\u043e\\u043d\\u0442\\u0430\\u043a\\u0442\\u043d\\u0430\\u044f \\u0438\\u043d\\u0444\\u043e\\u0440\\u043c\\u0430\\u0446\\u0438\\u044f: <span style=\\"font-weight: bold\\">[[+user_contacts]]<\\/span>\\n<br\\/>\\n<br\\/>\\n\\u0422\\u0435\\u043c\\u0430 \\u0441\\u043e\\u043e\\u0431\\u0449\\u0435\\u043d\\u0438\\u044f: <span style=\\"font-weight: bold\\">[[+subject]]<\\/span>\\n<br\\/>\\n\\u041e\\u0446\\u0435\\u043d\\u043a\\u0430: <span style=\\"font-weight: bold\\">[[+rating]]<\\/span>\\n<br\\/>\\n\\u0422\\u0435\\u043a\\u0441\\u0442 \\u0441\\u043e\\u043e\\u0431\\u0449\\u0435\\u043d\\u0438\\u044f:\\n<br\\/>\\n<br\\/>\\n<div style=\\"white-space:pre;background: #f0f0f0;padding: 10px;border: solid 1px #eee;\\">[[+text]]<\\/div>\\n<br \\/><br \\/>\\n\\u0421\\u043e\\u043e\\u0431\\u0449\\u0435\\u043d\\u0438\\u0435 \\u0431\\u044b\\u043b\\u043e \\u043e\\u0441\\u0442\\u0430\\u0432\\u043b\\u0435\\u043d\\u043e \\u043d\\u0430 \\u0441\\u0442\\u0440\\u0430\\u043d\\u0438\\u0446\\u0435 <a target=\\"_blank\\" href=\\"[[~[[+resource_id]]?scheme=`full`]]\\">[[+resource_pagetitle]]<\\/a>\\n<br \\/>\\n<br \\/>\\n<a target=\\"_blank\\" href=\\"[[+site_manager_url]]?a=resource\\/update&id=[[+resource_id]]\\">\\u041e\\u043f\\u0443\\u0431\\u043b\\u0438\\u043a\\u043e\\u0432\\u0430\\u0442\\u044c \\u0438\\u043b\\u0438 \\u043e\\u0442\\u0432\\u0435\\u0442\\u0438\\u0442\\u044c \\u043d\\u0430 \\u0441\\u043e\\u043e\\u0431\\u0449\\u0435\\u043d\\u0438\\u0435 &gt;<\\/a>","locked":0,"properties":null,"static":0,"static_file":"core\\/components\\/easycomm\\/elements\\/chunks\\/chunk.ec_form_new_email_manager.tpl","content":"\\u041d\\u0430 \\u0441\\u0430\\u0439\\u0442\\u0435 [[++site_url]] \\u0431\\u044b\\u043b\\u043e \\u043e\\u0441\\u0442\\u0430\\u0432\\u043b\\u0435\\u043d\\u043e \\u043d\\u043e\\u0432\\u043e\\u0435 \\u0441\\u043e\\u043e\\u0431\\u0449\\u0435\\u043d\\u0438\\u0435:\\n<br \\/>\\n<br \\/>\\n\\u0410\\u0432\\u0442\\u043e\\u0440: <span style=\\"font-weight: bold\\">[[+user_name]]<\\/span>\\n<br\\/>\\n\\u042d\\u043b\\u0435\\u043a\\u0442\\u0440\\u043e\\u043d\\u043d\\u0430\\u044f \\u043f\\u043e\\u0447\\u0442\\u0430: <span style=\\"font-weight: bold\\">[[+user_email]]<\\/span>\\n<br\\/>\\n\\u041a\\u043e\\u043d\\u0442\\u0430\\u043a\\u0442\\u043d\\u0430\\u044f \\u0438\\u043d\\u0444\\u043e\\u0440\\u043c\\u0430\\u0446\\u0438\\u044f: <span style=\\"font-weight: bold\\">[[+user_contacts]]<\\/span>\\n<br\\/>\\n<br\\/>\\n\\u0422\\u0435\\u043c\\u0430 \\u0441\\u043e\\u043e\\u0431\\u0449\\u0435\\u043d\\u0438\\u044f: <span style=\\"font-weight: bold\\">[[+subject]]<\\/span>\\n<br\\/>\\n\\u041e\\u0446\\u0435\\u043d\\u043a\\u0430: <span style=\\"font-weight: bold\\">[[+rating]]<\\/span>\\n<br\\/>\\n\\u0422\\u0435\\u043a\\u0441\\u0442 \\u0441\\u043e\\u043e\\u0431\\u0449\\u0435\\u043d\\u0438\\u044f:\\n<br\\/>\\n<br\\/>\\n<div style=\\"white-space:pre;background: #f0f0f0;padding: 10px;border: solid 1px #eee;\\">[[+text]]<\\/div>\\n<br \\/><br \\/>\\n\\u0421\\u043e\\u043e\\u0431\\u0449\\u0435\\u043d\\u0438\\u0435 \\u0431\\u044b\\u043b\\u043e \\u043e\\u0441\\u0442\\u0430\\u0432\\u043b\\u0435\\u043d\\u043e \\u043d\\u0430 \\u0441\\u0442\\u0440\\u0430\\u043d\\u0438\\u0446\\u0435 <a target=\\"_blank\\" href=\\"[[~[[+resource_id]]?scheme=`full`]]\\">[[+resource_pagetitle]]<\\/a>\\n<br \\/>\\n<br \\/>\\n<a target=\\"_blank\\" href=\\"[[+site_manager_url]]?a=resource\\/update&id=[[+resource_id]]\\">\\u041e\\u043f\\u0443\\u0431\\u043b\\u0438\\u043a\\u043e\\u0432\\u0430\\u0442\\u044c \\u0438\\u043b\\u0438 \\u043e\\u0442\\u0432\\u0435\\u0442\\u0438\\u0442\\u044c \\u043d\\u0430 \\u0441\\u043e\\u043e\\u0431\\u0449\\u0435\\u043d\\u0438\\u0435 &gt;<\\/a>"}',
        'guid' => '522ab4521ae6f18a7dfd9692f55755be',
        'native_key' => 0,
        'signature' => 'e501ad0f0059b0005fd9cb563d82df7e',
      ),
      'a5c657a6e645929e3e624cf7575547d9' => 
      array (
        'preserve_keys' => false,
        'update_object' => false,
        'unique_key' => 'name',
        'class' => 'modChunk',
        'object' => '{"id":0,"source":1,"property_preprocess":0,"name":"tpl.ecForm.Update.Email.User","description":"","editor_type":0,"category":0,"cache_type":0,"snippet":"\\u0417\\u0434\\u0440\\u0430\\u0432\\u0441\\u0442\\u0432\\u0443\\u0439\\u0442\\u0435, [[+user_name]]!\\n<br \\/>\\n\\u0412\\u044b \\u043e\\u0441\\u0442\\u0430\\u0432\\u043b\\u044f\\u043b\\u0438 \\u0441\\u043e\\u043e\\u0431\\u0449\\u0435\\u043d\\u0438\\u0435 \\u043d\\u0430 \\u0441\\u0430\\u0439\\u0442\\u0435 [[++site_url]]:\\n<br \\/>\\n<br \\/>\\n<div style=\\"white-space:pre;background: #f0f0f0;padding: 10px;border: solid 1px #eee;\\">[[+text]]<\\/div>\\n<br \\/><br \\/>\\n[[+no_reply_and_published]][[+reply_and_published]][[+reply_and_not_published]]\\n<br \\/>\\n<br \\/>\\n\\u0421 \\u0443\\u0432\\u0430\\u0436\\u0435\\u043d\\u0438\\u0435\\u043c, [[++site_name]].\\n\\n<!--ec_no_reply_and_published\\n\\u0412\\u0430\\u0448\\u0435 \\u0441\\u043e\\u043e\\u0431\\u0449\\u0435\\u043d\\u0438\\u0435 \\u0431\\u044b\\u043b\\u043e \\u043e\\u043f\\u0443\\u0431\\u043b\\u0438\\u043a\\u043e\\u0432\\u0430\\u043d\\u043e. \\u0412\\u044b \\u043c\\u043e\\u0436\\u0435\\u0442\\u0435 \\u0435\\u0433\\u043e \\u043f\\u0440\\u043e\\u0441\\u043c\\u043e\\u0442\\u0440\\u0435\\u0442\\u044c <a href=\\"[[~[[+resource_id]]? &scheme=`full`]]#message-[[+id]]\\">\\u0437\\u0434\\u0435\\u0441\\u044c<\\/a>.\\n-->\\n<!--ec_reply_and_published\\n[[+reply_author]]<br \\/>\\n<br \\/>\\n<div style=\\"white-space:pre;background: #f0f0f0;padding: 10px;border: solid 1px #eee;\\">[[+reply_text]]<\\/div>\\n<br \\/>\\n\\u0412\\u0430\\u0448\\u0435 \\u0441\\u043e\\u043e\\u0431\\u0449\\u0435\\u043d\\u0438\\u0435 \\u0441 \\u043e\\u0442\\u0432\\u0435\\u0442\\u043e\\u043c \\u043d\\u0430 \\u043d\\u0435\\u0433\\u043e \\u043e\\u043f\\u0443\\u0431\\u043b\\u0438\\u043a\\u043e\\u0432\\u0430\\u043d\\u043e <a href=\\"[[~[[+resource_id]]? &scheme=`full`]]#message-[[+id]]\\">\\u0437\\u0434\\u0435\\u0441\\u044c<\\/a>.\\n-->\\n<!--ec_reply_and_not_published\\n[[+reply_author]]<br \\/>\\n<br \\/>\\n<div style=\\"white-space:pre;background: #f0f0f0;padding: 10px;border: solid 1px #eee;\\">[[+reply_text]]<\\/div>\\n-->\\n\\n<!--ec_reply_author <span style=\\"font-weight:bold;\\">[[+reply_author]]<\\/span> \\u043e\\u0442\\u0432\\u0435\\u0442\\u0438\\u043b \\u043d\\u0430 \\u0432\\u0430\\u0448\\u0435 \\u0441\\u043e\\u043e\\u0431\\u0449\\u0435\\u043d\\u0438\\u0435:-->\\n<!--ec_!reply_author \\u041d\\u0430 \\u0432\\u0430\\u0448\\u0435 \\u0441\\u043e\\u043e\\u0431\\u0449\\u0435\\u043d\\u0438\\u0435 \\u0434\\u0430\\u043d \\u043e\\u0442\\u0432\\u0435\\u0442:-->","locked":0,"properties":null,"static":0,"static_file":"core\\/components\\/easycomm\\/elements\\/chunks\\/chunk.ec_form_update_email_user.tpl","content":"\\u0417\\u0434\\u0440\\u0430\\u0432\\u0441\\u0442\\u0432\\u0443\\u0439\\u0442\\u0435, [[+user_name]]!\\n<br \\/>\\n\\u0412\\u044b \\u043e\\u0441\\u0442\\u0430\\u0432\\u043b\\u044f\\u043b\\u0438 \\u0441\\u043e\\u043e\\u0431\\u0449\\u0435\\u043d\\u0438\\u0435 \\u043d\\u0430 \\u0441\\u0430\\u0439\\u0442\\u0435 [[++site_url]]:\\n<br \\/>\\n<br \\/>\\n<div style=\\"white-space:pre;background: #f0f0f0;padding: 10px;border: solid 1px #eee;\\">[[+text]]<\\/div>\\n<br \\/><br \\/>\\n[[+no_reply_and_published]][[+reply_and_published]][[+reply_and_not_published]]\\n<br \\/>\\n<br \\/>\\n\\u0421 \\u0443\\u0432\\u0430\\u0436\\u0435\\u043d\\u0438\\u0435\\u043c, [[++site_name]].\\n\\n<!--ec_no_reply_and_published\\n\\u0412\\u0430\\u0448\\u0435 \\u0441\\u043e\\u043e\\u0431\\u0449\\u0435\\u043d\\u0438\\u0435 \\u0431\\u044b\\u043b\\u043e \\u043e\\u043f\\u0443\\u0431\\u043b\\u0438\\u043a\\u043e\\u0432\\u0430\\u043d\\u043e. \\u0412\\u044b \\u043c\\u043e\\u0436\\u0435\\u0442\\u0435 \\u0435\\u0433\\u043e \\u043f\\u0440\\u043e\\u0441\\u043c\\u043e\\u0442\\u0440\\u0435\\u0442\\u044c <a href=\\"[[~[[+resource_id]]? &scheme=`full`]]#message-[[+id]]\\">\\u0437\\u0434\\u0435\\u0441\\u044c<\\/a>.\\n-->\\n<!--ec_reply_and_published\\n[[+reply_author]]<br \\/>\\n<br \\/>\\n<div style=\\"white-space:pre;background: #f0f0f0;padding: 10px;border: solid 1px #eee;\\">[[+reply_text]]<\\/div>\\n<br \\/>\\n\\u0412\\u0430\\u0448\\u0435 \\u0441\\u043e\\u043e\\u0431\\u0449\\u0435\\u043d\\u0438\\u0435 \\u0441 \\u043e\\u0442\\u0432\\u0435\\u0442\\u043e\\u043c \\u043d\\u0430 \\u043d\\u0435\\u0433\\u043e \\u043e\\u043f\\u0443\\u0431\\u043b\\u0438\\u043a\\u043e\\u0432\\u0430\\u043d\\u043e <a href=\\"[[~[[+resource_id]]? &scheme=`full`]]#message-[[+id]]\\">\\u0437\\u0434\\u0435\\u0441\\u044c<\\/a>.\\n-->\\n<!--ec_reply_and_not_published\\n[[+reply_author]]<br \\/>\\n<br \\/>\\n<div style=\\"white-space:pre;background: #f0f0f0;padding: 10px;border: solid 1px #eee;\\">[[+reply_text]]<\\/div>\\n-->\\n\\n<!--ec_reply_author <span style=\\"font-weight:bold;\\">[[+reply_author]]<\\/span> \\u043e\\u0442\\u0432\\u0435\\u0442\\u0438\\u043b \\u043d\\u0430 \\u0432\\u0430\\u0448\\u0435 \\u0441\\u043e\\u043e\\u0431\\u0449\\u0435\\u043d\\u0438\\u0435:-->\\n<!--ec_!reply_author \\u041d\\u0430 \\u0432\\u0430\\u0448\\u0435 \\u0441\\u043e\\u043e\\u0431\\u0449\\u0435\\u043d\\u0438\\u0435 \\u0434\\u0430\\u043d \\u043e\\u0442\\u0432\\u0435\\u0442:-->"}',
        'guid' => '40f687c54b82e32dd4a363152b792b10',
        'native_key' => 0,
        'signature' => '061c2648f17f60437b50d0b7af275b21',
      ),
      'f6ab2bb7281cfa06ef517827bbe84876' => 
      array (
        'preserve_keys' => false,
        'update_object' => false,
        'unique_key' => 'name',
        'class' => 'modChunk',
        'object' => '{"id":0,"source":1,"property_preprocess":0,"name":"tpl.ecThreadRating","description":"","editor_type":0,"category":0,"cache_type":0,"snippet":"<div class=\\"ec-stars\\" title=\\"[[+rating_wilson]]\\">\\r\\n    <span style=\\"width: [[+rating_wilson_percent]]%\\"><\\/span>\\r\\n<\\/div>","locked":0,"properties":null,"static":0,"static_file":"core\\/components\\/easycomm\\/elements\\/chunks\\/chunk.ec_thread_rating.tpl","content":"<div class=\\"ec-stars\\" title=\\"[[+rating_wilson]]\\">\\r\\n    <span style=\\"width: [[+rating_wilson_percent]]%\\"><\\/span>\\r\\n<\\/div>"}',
        'guid' => '6017e2d04c631b90c4549ec378310439',
        'native_key' => 0,
        'signature' => 'fa3246ad9626065cfd886a5f35937518',
      ),
    ),
    'Snippets' => 
    array (
      '4944f83585815150443e7376efe78175' => 
      array (
        'preserve_keys' => false,
        'update_object' => true,
        'unique_key' => 'name',
        'class' => 'modSnippet',
        'object' => '{"id":0,"source":1,"property_preprocess":0,"name":"ecMessages","description":"","editor_type":0,"category":0,"cache_type":0,"snippet":"\\/** @var array $scriptProperties *\\/\\n\\/** @var easyComm $easyComm *\\/\\nif (!$easyComm = $modx->getService(\'easyComm\', \'easyComm\', $modx->getOption(\'ec_core_path\', null, $modx->getOption(\'core_path\') . \'components\\/easycomm\\/\') . \'model\\/easycomm\\/\', $scriptProperties)) {\\n    return \'Could not load easyComm class!\';\\n}\\n\\n\\/* @var pdoFetch $pdoFetch *\\/\\n$fqn = $modx->getOption(\'pdoFetch.class\', null, \'pdotools.pdofetch\', true);\\nif ($pdoClass = $modx->loadClass($fqn, \'\', false, true)) {\\n    $pdoFetch = new $pdoClass($modx, $scriptProperties);\\n}\\nelseif ($pdoClass = $modx->loadClass($fqn, MODX_CORE_PATH . \'components\\/pdotools\\/model\\/\', false, true)) {\\n    $pdoFetch = new $pdoClass($modx, $scriptProperties);\\n}\\nelse {\\n    $modx->log(modX::LOG_LEVEL_ERROR, \'Could not load pdoFetch from \\"MODX_CORE_PATH\\/components\\/pdotools\\/model\\/\\".\');\\n    return false;\\n}\\n$pdoFetch->addTime(\'pdoTools loaded\');\\n$fastMode = !empty($fastMode);\\n$outputSeparator = $modx->getOption(\'outputSeparator\', $scriptProperties, \\"\\\\n\\");\\n\\n\\/* @var string $threads *\\/\\n$threads = $modx->getOption(\'threads\', $scriptProperties, \'\');\\nif($threads == \'*\') {\\n    $threads = array();\\n}\\nelse {\\n    if(empty($threads)) {\\n        $threads = $modx->getOption(\'thread\', $scriptProperties, \'\');\\n        if(empty($threads)) {\\n            $threads = \'resource-\'.$modx->resource->get(\'id\');\\n        }\\n    }\\n    $threads = explode(\\",\\", $threads);\\n    $threads = array_map(\'trim\', $threads);\\n}\\n\\n$class = \'ecMessage\';\\n$threadClass = \'ecThread\';\\n$resourceClass = \'modResource\';\\n\\/\\/ Query conditions\\n$select = array(\\n    $class => $modx->getSelectColumns($class, $class),\\n    $threadClass => $modx->getSelectColumns($threadClass, \'Thread\', \'thread_\'),\\n);\\n$innerJoin = array($threadClass => array(\'alias\' => \'Thread\', \'on\' => \\"`$class`.`thread` = `Thread`.`id`\\"));\\n$leftJoin = array();\\n\\nif(!empty($resourceFields)) {\\n    $resourceFields = array_merge(array(\'id\', \'pagetitle\'), explode(\\",\\", $resourceFields));\\n    $resourceFields = array_map(\\"trim\\", $resourceFields);\\n\\n    $select[$resourceClass] = $modx->getSelectColumns($resourceClass, \'Resource\', \'resource_\', $resourceFields);\\n    $leftJoin[$resourceClass] = array(\'alias\' => \'Resource\', \'on\' => \\"`Thread`.`resource` = `Resource`.`id`\\");\\n}\\n\\n\\n$where = array();\\nif(count($threads) == 1) {\\n    $where[\'`Thread`.`name`\'] = $threads[0];\\n}\\nif(count($threads) > 1) {\\n    $where[\'`Thread`.`name`:IN\'] = $threads;\\n}\\n\\n\\/\\/ Filter by message ids\\n$messages = $modx->getOption(\'messages\', $scriptProperties, \'\');\\nif(!empty($messages)) {\\n    $messages = explode(\\",\\", $messages);\\n    $messages = array_map(\\"trim\\", $messages);\\n    $messages = array_map(\\"intval\\", $messages);\\n    if(!empty($messages)) {\\n        $where[$class.\'.`id`:IN\'] = $messages;\\n    }\\n}\\n\\nif(empty($showUnpublished)) {\\n    $where[$class.\'.published\'] = 1;\\n}\\n\\nif(empty($showDeleted)) {\\n    $where[$class.\'.deleted\'] = 0;\\n}\\n\\nif(!empty($subject)) {\\n    $where[$class.\'.subject\'] = $subject;\\n}\\n\\n\\/\\/ Add custom parameters\\nforeach (array(\'where\',\'leftJoin\',\'innerJoin\',\'select\',\'groupby\') as $v) {\\n    if (!empty($scriptProperties[$v])) {\\n        $tmp = $modx->fromJSON($scriptProperties[$v]);\\n        if (is_array($tmp)) {\\n            $$v = array_merge($$v, $tmp);\\n        }\\n    }\\n    unset($scriptProperties[$v]);\\n}\\n$pdoFetch->addTime(\'Conditions prepared\');\\n\\n\\/\\/ Default parameters\\n$default = array(\\n    \'class\' => $class,\\n    \\/\\/\'loadModels\' => \'easyComm\',\\n    \'disableConditions\' => true,\\n    \'where\' => $modx->toJSON($where),\\n    \'select\' => $modx->toJSON($select),\\n    \'innerJoin\' => $modx->toJSON($innerJoin),\\n    \'leftJoin\' => $modx->toJSON($leftJoin),\\n    \\/\\/\'groupby\' => $class.\'.id\',\\n    \'return\' => \'data\',\\n    \'nestedChunkPrefix\' => \'ec_\'\\n);\\n\\n\\n\\/\\/ Merge all properties and run!\\n$pdoFetch->addTime(\'Query parameters ready\');\\n$pdoFetch->setConfig(array_merge($default, $scriptProperties), false);\\n\\n\\n$rows = $pdoFetch->run();\\n\\n\\/* @var $tmpChunk modChunk *\\/\\n$tmpChunk = $modx->newObject(\'modChunk\', array(\'name\' => \\"tmp-\\".uniqid()));\\n$tmpChunk->setCacheable(false);\\n$gravatarDefault = $tmpChunk->process(null, $modx->getOption(\'ec_gravatar_default\'));\\n\\n$gravatarSize = $modx->getOption(\'ec_gravatar_size\', null, 50);\\n\\n$output = array();\\n$idx = $pdoFetch->idx;\\nforeach($rows as $row) {\\n    $row[\'idx\'] = $idx++;\\n    $row[\'text_raw\'] = $row[\'text\'];\\n    $row[\'text\'] = nl2br($row[\'text\']);\\n    $row[\'reply_text_raw\'] = $row[\'reply_text\'];\\n    $row[\'reply_text\'] = nl2br($row[\'reply_text\']);\\n\\n    $row[\'gravatar\'] = $gravatarDefault;\\n    if(!empty($row[\'user_email\'])) {\\n        $row[\'gravatar\'] = \'https:\\/\\/www.gravatar.com\\/avatar\\/\'.md5(strtolower($row[\'user_email\'])).\'?s=50\';\\n        if(!empty($gravatarDefault)) {\\n            $row[\'gravatar\'] .= \'&d=\'.urlencode($gravatarDefault);\\n        }\\n    }\\n\\n    $tpl = $pdoFetch->defineChunk($row);\\n    if (empty($tpl)) {\\n        $output[] = \'<pre>\'.$pdoFetch->getChunk(\'\', $row).\'<\\/pre>\';\\n    }\\n    else {\\n        $output[] = $pdoFetch->getChunk($tpl, $row, $fastMode);\\n    }\\n}\\n$log = \'\';\\nif ($modx->user->hasSessionContext(\'mgr\') && !empty($showLog)) {\\n    $log .= \'<pre class=\\"pdoResourcesLog\\">\' . print_r($pdoFetch->getTime(), 1) . \'<\\/pre>\';\\n}\\n\\n\\/\\/ Return output\\nif (!empty($toSeparatePlaceholders)) {\\n    $output[\'log\'] = $log;\\n    $modx->setPlaceholders($output, $toSeparatePlaceholders);\\n}\\nelse {\\n    if(empty($output) && !empty($tplEmpty)) {\\n        $output = $pdoFetch->getChunk($tplEmpty);\\n    }\\n    else {\\n        $output = implode($outputSeparator, $output);\\n    }\\n    $output .= $log;\\n    if (!empty($tplWrapper) && (!empty($wrapIfEmpty) || !empty($output))) {\\n        $data = array(\'output\' => $output);\\n        if( (count($threads) == 1) && ($threadObj = $modx->getObject(\'ecThread\', array(\'name\' => $threads[0]))) ) {\\n            $ratingMax = (float)$modx->getOption(\'ec_rating_max\', $scriptProperties, 5);\\n            $data = array_merge($data, $threadObj->toArray(),\\n                array(\\n                    \'rating_wilson_percent\' => number_format($threadObj->get(\'rating_wilson\') \\/ $ratingMax * 100, 3),\\n                    \'rating_simple_percent\' => number_format($threadObj->get(\'rating_simple\') \\/ $ratingMax * 100, 3),\\n                )\\n            );\\n        }\\n        $output = $pdoFetch->getChunk($tplWrapper, $data, $pdoFetch->config[\'fastMode\']);\\n    }\\n    if (!empty($toPlaceholder)) {\\n        $modx->setPlaceholder($toPlaceholder, $output);\\n    }\\n    else {\\n        return $output;\\n    }\\n}","locked":0,"properties":"a:17:{s:6:\\"thread\\";a:7:{s:4:\\"name\\";s:6:\\"thread\\";s:4:\\"desc\\";s:20:\\"easycomm_prop_thread\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"easycomm:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:7:\\"threads\\";a:7:{s:4:\\"name\\";s:7:\\"threads\\";s:4:\\"desc\\";s:21:\\"easycomm_prop_threads\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"easycomm:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:8:\\"messages\\";a:7:{s:4:\\"name\\";s:8:\\"messages\\";s:4:\\"desc\\";s:22:\\"easycomm_prop_messages\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"easycomm:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:7:\\"subject\\";a:7:{s:4:\\"name\\";s:7:\\"subject\\";s:4:\\"desc\\";s:21:\\"easycomm_prop_subject\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"easycomm:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:3:\\"tpl\\";a:7:{s:4:\\"name\\";s:3:\\"tpl\\";s:4:\\"desc\\";s:17:\\"easycomm_prop_tpl\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:18:\\"tpl.ecMessages.Row\\";s:7:\\"lexicon\\";s:19:\\"easycomm:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:10:\\"tplWrapper\\";a:7:{s:4:\\"name\\";s:10:\\"tplWrapper\\";s:4:\\"desc\\";s:24:\\"easycomm_prop_tplWrapper\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"easycomm:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:8:\\"tplEmpty\\";a:7:{s:4:\\"name\\";s:8:\\"tplEmpty\\";s:4:\\"desc\\";s:22:\\"easycomm_prop_tplEmpty\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"easycomm:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:6:\\"sortby\\";a:7:{s:4:\\"name\\";s:6:\\"sortby\\";s:4:\\"desc\\";s:20:\\"easycomm_prop_sortby\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:4:\\"date\\";s:7:\\"lexicon\\";s:19:\\"easycomm:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:7:\\"sortdir\\";a:7:{s:4:\\"name\\";s:7:\\"sortdir\\";s:4:\\"desc\\";s:21:\\"easycomm_prop_sortdir\\";s:4:\\"type\\";s:4:\\"list\\";s:7:\\"options\\";a:2:{i:0;a:2:{s:4:\\"text\\";s:3:\\"ASC\\";s:5:\\"value\\";s:3:\\"ASC\\";}i:1;a:2:{s:4:\\"text\\";s:4:\\"DESC\\";s:5:\\"value\\";s:4:\\"DESC\\";}}s:5:\\"value\\";s:4:\\"DESC\\";s:7:\\"lexicon\\";s:19:\\"easycomm:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:5:\\"limit\\";a:7:{s:4:\\"name\\";s:5:\\"limit\\";s:4:\\"desc\\";s:19:\\"easycomm_prop_limit\\";s:4:\\"type\\";s:11:\\"numberfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";i:10;s:7:\\"lexicon\\";s:19:\\"easycomm:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:15:\\"showUnpublished\\";a:7:{s:4:\\"name\\";s:15:\\"showUnpublished\\";s:4:\\"desc\\";s:29:\\"easycomm_prop_showUnpublished\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"easycomm:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:11:\\"showDeleted\\";a:7:{s:4:\\"name\\";s:11:\\"showDeleted\\";s:4:\\"desc\\";s:25:\\"easycomm_prop_showDeleted\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"easycomm:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:14:\\"resourceFields\\";a:7:{s:4:\\"name\\";s:14:\\"resourceFields\\";s:4:\\"desc\\";s:28:\\"easycomm_prop_resourceFields\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"easycomm:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:15:\\"outputSeparator\\";a:7:{s:4:\\"name\\";s:15:\\"outputSeparator\\";s:4:\\"desc\\";s:29:\\"easycomm_prop_outputSeparator\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:1:\\"\\n\\";s:7:\\"lexicon\\";s:19:\\"easycomm:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:13:\\"toPlaceholder\\";a:7:{s:4:\\"name\\";s:13:\\"toPlaceholder\\";s:4:\\"desc\\";s:27:\\"easycomm_prop_toPlaceholder\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"easycomm:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:22:\\"toSeparatePlaceholders\\";a:7:{s:4:\\"name\\";s:22:\\"toSeparatePlaceholders\\";s:4:\\"desc\\";s:36:\\"easycomm_prop_toSeparatePlaceholders\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"easycomm:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:7:\\"showLog\\";a:7:{s:4:\\"name\\";s:7:\\"showLog\\";s:4:\\"desc\\";s:21:\\"easycomm_prop_showLog\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"easycomm:properties\\";s:4:\\"area\\";s:0:\\"\\";}}","moduleguid":"","static":0,"static_file":"core\\/components\\/easycomm\\/elements\\/snippets\\/snippet.ec_messages.php","content":"\\/** @var array $scriptProperties *\\/\\n\\/** @var easyComm $easyComm *\\/\\nif (!$easyComm = $modx->getService(\'easyComm\', \'easyComm\', $modx->getOption(\'ec_core_path\', null, $modx->getOption(\'core_path\') . \'components\\/easycomm\\/\') . \'model\\/easycomm\\/\', $scriptProperties)) {\\n    return \'Could not load easyComm class!\';\\n}\\n\\n\\/* @var pdoFetch $pdoFetch *\\/\\n$fqn = $modx->getOption(\'pdoFetch.class\', null, \'pdotools.pdofetch\', true);\\nif ($pdoClass = $modx->loadClass($fqn, \'\', false, true)) {\\n    $pdoFetch = new $pdoClass($modx, $scriptProperties);\\n}\\nelseif ($pdoClass = $modx->loadClass($fqn, MODX_CORE_PATH . \'components\\/pdotools\\/model\\/\', false, true)) {\\n    $pdoFetch = new $pdoClass($modx, $scriptProperties);\\n}\\nelse {\\n    $modx->log(modX::LOG_LEVEL_ERROR, \'Could not load pdoFetch from \\"MODX_CORE_PATH\\/components\\/pdotools\\/model\\/\\".\');\\n    return false;\\n}\\n$pdoFetch->addTime(\'pdoTools loaded\');\\n$fastMode = !empty($fastMode);\\n$outputSeparator = $modx->getOption(\'outputSeparator\', $scriptProperties, \\"\\\\n\\");\\n\\n\\/* @var string $threads *\\/\\n$threads = $modx->getOption(\'threads\', $scriptProperties, \'\');\\nif($threads == \'*\') {\\n    $threads = array();\\n}\\nelse {\\n    if(empty($threads)) {\\n        $threads = $modx->getOption(\'thread\', $scriptProperties, \'\');\\n        if(empty($threads)) {\\n            $threads = \'resource-\'.$modx->resource->get(\'id\');\\n        }\\n    }\\n    $threads = explode(\\",\\", $threads);\\n    $threads = array_map(\'trim\', $threads);\\n}\\n\\n$class = \'ecMessage\';\\n$threadClass = \'ecThread\';\\n$resourceClass = \'modResource\';\\n\\/\\/ Query conditions\\n$select = array(\\n    $class => $modx->getSelectColumns($class, $class),\\n    $threadClass => $modx->getSelectColumns($threadClass, \'Thread\', \'thread_\'),\\n);\\n$innerJoin = array($threadClass => array(\'alias\' => \'Thread\', \'on\' => \\"`$class`.`thread` = `Thread`.`id`\\"));\\n$leftJoin = array();\\n\\nif(!empty($resourceFields)) {\\n    $resourceFields = array_merge(array(\'id\', \'pagetitle\'), explode(\\",\\", $resourceFields));\\n    $resourceFields = array_map(\\"trim\\", $resourceFields);\\n\\n    $select[$resourceClass] = $modx->getSelectColumns($resourceClass, \'Resource\', \'resource_\', $resourceFields);\\n    $leftJoin[$resourceClass] = array(\'alias\' => \'Resource\', \'on\' => \\"`Thread`.`resource` = `Resource`.`id`\\");\\n}\\n\\n\\n$where = array();\\nif(count($threads) == 1) {\\n    $where[\'`Thread`.`name`\'] = $threads[0];\\n}\\nif(count($threads) > 1) {\\n    $where[\'`Thread`.`name`:IN\'] = $threads;\\n}\\n\\n\\/\\/ Filter by message ids\\n$messages = $modx->getOption(\'messages\', $scriptProperties, \'\');\\nif(!empty($messages)) {\\n    $messages = explode(\\",\\", $messages);\\n    $messages = array_map(\\"trim\\", $messages);\\n    $messages = array_map(\\"intval\\", $messages);\\n    if(!empty($messages)) {\\n        $where[$class.\'.`id`:IN\'] = $messages;\\n    }\\n}\\n\\nif(empty($showUnpublished)) {\\n    $where[$class.\'.published\'] = 1;\\n}\\n\\nif(empty($showDeleted)) {\\n    $where[$class.\'.deleted\'] = 0;\\n}\\n\\nif(!empty($subject)) {\\n    $where[$class.\'.subject\'] = $subject;\\n}\\n\\n\\/\\/ Add custom parameters\\nforeach (array(\'where\',\'leftJoin\',\'innerJoin\',\'select\',\'groupby\') as $v) {\\n    if (!empty($scriptProperties[$v])) {\\n        $tmp = $modx->fromJSON($scriptProperties[$v]);\\n        if (is_array($tmp)) {\\n            $$v = array_merge($$v, $tmp);\\n        }\\n    }\\n    unset($scriptProperties[$v]);\\n}\\n$pdoFetch->addTime(\'Conditions prepared\');\\n\\n\\/\\/ Default parameters\\n$default = array(\\n    \'class\' => $class,\\n    \\/\\/\'loadModels\' => \'easyComm\',\\n    \'disableConditions\' => true,\\n    \'where\' => $modx->toJSON($where),\\n    \'select\' => $modx->toJSON($select),\\n    \'innerJoin\' => $modx->toJSON($innerJoin),\\n    \'leftJoin\' => $modx->toJSON($leftJoin),\\n    \\/\\/\'groupby\' => $class.\'.id\',\\n    \'return\' => \'data\',\\n    \'nestedChunkPrefix\' => \'ec_\'\\n);\\n\\n\\n\\/\\/ Merge all properties and run!\\n$pdoFetch->addTime(\'Query parameters ready\');\\n$pdoFetch->setConfig(array_merge($default, $scriptProperties), false);\\n\\n\\n$rows = $pdoFetch->run();\\n\\n\\/* @var $tmpChunk modChunk *\\/\\n$tmpChunk = $modx->newObject(\'modChunk\', array(\'name\' => \\"tmp-\\".uniqid()));\\n$tmpChunk->setCacheable(false);\\n$gravatarDefault = $tmpChunk->process(null, $modx->getOption(\'ec_gravatar_default\'));\\n\\n$gravatarSize = $modx->getOption(\'ec_gravatar_size\', null, 50);\\n\\n$output = array();\\n$idx = $pdoFetch->idx;\\nforeach($rows as $row) {\\n    $row[\'idx\'] = $idx++;\\n    $row[\'text_raw\'] = $row[\'text\'];\\n    $row[\'text\'] = nl2br($row[\'text\']);\\n    $row[\'reply_text_raw\'] = $row[\'reply_text\'];\\n    $row[\'reply_text\'] = nl2br($row[\'reply_text\']);\\n\\n    $row[\'gravatar\'] = $gravatarDefault;\\n    if(!empty($row[\'user_email\'])) {\\n        $row[\'gravatar\'] = \'https:\\/\\/www.gravatar.com\\/avatar\\/\'.md5(strtolower($row[\'user_email\'])).\'?s=50\';\\n        if(!empty($gravatarDefault)) {\\n            $row[\'gravatar\'] .= \'&d=\'.urlencode($gravatarDefault);\\n        }\\n    }\\n\\n    $tpl = $pdoFetch->defineChunk($row);\\n    if (empty($tpl)) {\\n        $output[] = \'<pre>\'.$pdoFetch->getChunk(\'\', $row).\'<\\/pre>\';\\n    }\\n    else {\\n        $output[] = $pdoFetch->getChunk($tpl, $row, $fastMode);\\n    }\\n}\\n$log = \'\';\\nif ($modx->user->hasSessionContext(\'mgr\') && !empty($showLog)) {\\n    $log .= \'<pre class=\\"pdoResourcesLog\\">\' . print_r($pdoFetch->getTime(), 1) . \'<\\/pre>\';\\n}\\n\\n\\/\\/ Return output\\nif (!empty($toSeparatePlaceholders)) {\\n    $output[\'log\'] = $log;\\n    $modx->setPlaceholders($output, $toSeparatePlaceholders);\\n}\\nelse {\\n    if(empty($output) && !empty($tplEmpty)) {\\n        $output = $pdoFetch->getChunk($tplEmpty);\\n    }\\n    else {\\n        $output = implode($outputSeparator, $output);\\n    }\\n    $output .= $log;\\n    if (!empty($tplWrapper) && (!empty($wrapIfEmpty) || !empty($output))) {\\n        $data = array(\'output\' => $output);\\n        if( (count($threads) == 1) && ($threadObj = $modx->getObject(\'ecThread\', array(\'name\' => $threads[0]))) ) {\\n            $ratingMax = (float)$modx->getOption(\'ec_rating_max\', $scriptProperties, 5);\\n            $data = array_merge($data, $threadObj->toArray(),\\n                array(\\n                    \'rating_wilson_percent\' => number_format($threadObj->get(\'rating_wilson\') \\/ $ratingMax * 100, 3),\\n                    \'rating_simple_percent\' => number_format($threadObj->get(\'rating_simple\') \\/ $ratingMax * 100, 3),\\n                )\\n            );\\n        }\\n        $output = $pdoFetch->getChunk($tplWrapper, $data, $pdoFetch->config[\'fastMode\']);\\n    }\\n    if (!empty($toPlaceholder)) {\\n        $modx->setPlaceholder($toPlaceholder, $output);\\n    }\\n    else {\\n        return $output;\\n    }\\n}"}',
        'guid' => '7168ff116c8993143e13fa48b661966b',
        'native_key' => 0,
        'signature' => 'a07f915c785974b90f06050ecfca0160',
      ),
      '1696ce7474b9e27bf389f07c6f44e451' => 
      array (
        'preserve_keys' => false,
        'update_object' => true,
        'unique_key' => 'name',
        'class' => 'modSnippet',
        'object' => '{"id":0,"source":1,"property_preprocess":0,"name":"ecMessagesCount","description":"","editor_type":0,"category":0,"cache_type":0,"snippet":"\\/** @var array $scriptProperties *\\/\\r\\n\\/** @var easyComm $easyComm *\\/\\r\\nif (!$easyComm = $modx->getService(\'easyComm\', \'easyComm\', $modx->getOption(\'ec_core_path\', null, $modx->getOption(\'core_path\') . \'components\\/easycomm\\/\') . \'model\\/easycomm\\/\', $scriptProperties)) {\\r\\n    return \'Could not load easyComm class!\';\\r\\n}\\r\\n\\r\\n\\/* @var string $threads *\\/\\r\\n$threads = $modx->getOption(\'threads\', $scriptProperties, \'\');\\r\\nif($threads == \'*\') {\\r\\n    $threads = array();\\r\\n}\\r\\nelse {\\r\\n    if(empty($threads)) {\\r\\n        \\/* @var string $thread *\\/\\r\\n        $threads = $modx->getOption(\'thread\', $scriptProperties, \'\');\\r\\n        if(empty($threads)) {\\r\\n            $threads = \'resource-\'.$modx->resource->get(\'id\');\\r\\n        }\\r\\n    }\\r\\n    $threads = explode(\\",\\", $threads);\\r\\n    $threads = array_map(\'trim\', $threads);\\r\\n}\\r\\n\\r\\n$class = \'ecMessage\';\\r\\n$threadClass = \'ecThread\';\\r\\n\\r\\n$q = $modx->newQuery($class);\\r\\n$q->innerJoin($threadClass, \'Thread\', \\"`$class`.`thread` = `Thread`.`id`\\");\\r\\n\\r\\nif(count($threads) == 1) {\\r\\n    $q->where(array(\\r\\n        \'`Thread`.`name`\' => $threads[0]\\r\\n    ));\\r\\n}\\r\\nif(count($threads) > 1) {\\r\\n    $q->where(array(\\r\\n        \'`Thread`.`name`:IN\' => $threads\\r\\n    ));\\r\\n}\\r\\nif(empty($showUnpublished)) {\\r\\n    $q->where(array(\\r\\n        $class.\'.published\' => 1\\r\\n    ));\\r\\n}\\r\\nif(empty($showDeleted)) {\\r\\n    $q->where(array(\\r\\n        $class.\'.deleted\' => 0\\r\\n    ));\\r\\n}\\r\\nif(!empty($subject)) {\\r\\n    $q->where(array(\\r\\n        $class.\'.subject\' => $subject\\r\\n    ));\\r\\n}\\r\\n\\r\\nreturn $modx->getCount($class, $q);","locked":0,"properties":"a:5:{s:6:\\"thread\\";a:7:{s:4:\\"name\\";s:6:\\"thread\\";s:4:\\"desc\\";s:20:\\"easycomm_prop_thread\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"easycomm:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:7:\\"threads\\";a:7:{s:4:\\"name\\";s:7:\\"threads\\";s:4:\\"desc\\";s:21:\\"easycomm_prop_threads\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"easycomm:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:7:\\"subject\\";a:7:{s:4:\\"name\\";s:7:\\"subject\\";s:4:\\"desc\\";s:21:\\"easycomm_prop_subject\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"easycomm:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:15:\\"showUnpublished\\";a:7:{s:4:\\"name\\";s:15:\\"showUnpublished\\";s:4:\\"desc\\";s:29:\\"easycomm_prop_showUnpublished\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"easycomm:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:11:\\"showDeleted\\";a:7:{s:4:\\"name\\";s:11:\\"showDeleted\\";s:4:\\"desc\\";s:25:\\"easycomm_prop_showDeleted\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"easycomm:properties\\";s:4:\\"area\\";s:0:\\"\\";}}","moduleguid":"","static":0,"static_file":"core\\/components\\/easycomm\\/elements\\/snippets\\/snippet.ec_messages_count.php","content":"\\/** @var array $scriptProperties *\\/\\r\\n\\/** @var easyComm $easyComm *\\/\\r\\nif (!$easyComm = $modx->getService(\'easyComm\', \'easyComm\', $modx->getOption(\'ec_core_path\', null, $modx->getOption(\'core_path\') . \'components\\/easycomm\\/\') . \'model\\/easycomm\\/\', $scriptProperties)) {\\r\\n    return \'Could not load easyComm class!\';\\r\\n}\\r\\n\\r\\n\\/* @var string $threads *\\/\\r\\n$threads = $modx->getOption(\'threads\', $scriptProperties, \'\');\\r\\nif($threads == \'*\') {\\r\\n    $threads = array();\\r\\n}\\r\\nelse {\\r\\n    if(empty($threads)) {\\r\\n        \\/* @var string $thread *\\/\\r\\n        $threads = $modx->getOption(\'thread\', $scriptProperties, \'\');\\r\\n        if(empty($threads)) {\\r\\n            $threads = \'resource-\'.$modx->resource->get(\'id\');\\r\\n        }\\r\\n    }\\r\\n    $threads = explode(\\",\\", $threads);\\r\\n    $threads = array_map(\'trim\', $threads);\\r\\n}\\r\\n\\r\\n$class = \'ecMessage\';\\r\\n$threadClass = \'ecThread\';\\r\\n\\r\\n$q = $modx->newQuery($class);\\r\\n$q->innerJoin($threadClass, \'Thread\', \\"`$class`.`thread` = `Thread`.`id`\\");\\r\\n\\r\\nif(count($threads) == 1) {\\r\\n    $q->where(array(\\r\\n        \'`Thread`.`name`\' => $threads[0]\\r\\n    ));\\r\\n}\\r\\nif(count($threads) > 1) {\\r\\n    $q->where(array(\\r\\n        \'`Thread`.`name`:IN\' => $threads\\r\\n    ));\\r\\n}\\r\\nif(empty($showUnpublished)) {\\r\\n    $q->where(array(\\r\\n        $class.\'.published\' => 1\\r\\n    ));\\r\\n}\\r\\nif(empty($showDeleted)) {\\r\\n    $q->where(array(\\r\\n        $class.\'.deleted\' => 0\\r\\n    ));\\r\\n}\\r\\nif(!empty($subject)) {\\r\\n    $q->where(array(\\r\\n        $class.\'.subject\' => $subject\\r\\n    ));\\r\\n}\\r\\n\\r\\nreturn $modx->getCount($class, $q);"}',
        'guid' => 'a8c3cd604ab07af4ff7df4e627d46bb7',
        'native_key' => 0,
        'signature' => 'f5f410bcabc1c39389b698cf0942bde3',
      ),
      '02f5fa040cbd6fd865d6640bffdcb0e8' => 
      array (
        'preserve_keys' => false,
        'update_object' => true,
        'unique_key' => 'name',
        'class' => 'modSnippet',
        'object' => '{"id":0,"source":1,"property_preprocess":0,"name":"ecForm","description":"","editor_type":0,"category":0,"cache_type":0,"snippet":"\\/** @var array $scriptProperties *\\/\\n\\/** @var easyComm $easyComm *\\/\\nif (!$easyComm = $modx->getService(\'easyComm\', \'easyComm\', $modx->getOption(\'ec_core_path\', null, $modx->getOption(\'core_path\') . \'components\\/easycomm\\/\') . \'model\\/easycomm\\/\', $scriptProperties)) {\\n    return \'Could not load easyComm class!\';\\n}\\n$easyComm->initialize($modx->context->key, $scriptProperties);\\n\\n$tplForm = $modx->getOption(\'tplForm\', $scriptProperties, \'tpl.ecForm\');\\n$threadName = $modx->getOption(\'thread\', $scriptProperties, \'\');\\nif(empty($threadName)) {\\n    $threadName = \'resource-\'.$modx->resource->get(\'id\');\\n    $scriptProperties[\'thread\'] = $threadName;\\n}\\n$formId = $modx->getOption(\'formId\', $scriptProperties, \'\');\\nif(empty($formId)) {\\n    $formId = $threadName;\\n    $scriptProperties[\'formId\'] = $formId;\\n}\\n\\n\\/\\/ Prepare ecThread\\n\\/** @var ecThread $thread *\\/\\nif (!$thread = $modx->getObject(\'ecThread\', array(\'name\' => $threadName))) {\\n    $thread = $modx->newObject(\'ecThread\');\\n    $thread->fromArray(array(\\n        \'resource\' => $modx->resource->id,\\n        \'name\' => $threadName,\\n        \'title\' => $modx->getOption(\'threadTitle\', $scriptProperties, \'\'),\\n    ));\\n}\\n$thread->set(\'properties\', $scriptProperties);\\n$thread->save();\\n\\n$data = array(\\n    \'fid\' => $formId,\\n    \'thread\' => $thread->get(\'name\'),\\n    \'antispam_field\' => $modx->getOption(\'antispamField\', $scriptProperties)\\n);\\n\\nif ($modx->user->hasSessionContext($modx->context->get(\'key\'))) {\\n    $profile = $modx->user->getOne(\'Profile\');\\n    $data[\'user_name\'] = $profile->get(\'fullname\');\\n    if(empty($data[\'user_name\'])) {\\n        $data[\'user_name\'] = $modx->user->get(\'username\');\\n    }\\n    $data[\'user_email\'] = $profile->get(\'email\');\\n}\\n\\nif($modx->getOption(\'ec_captcha_enable\')) {\\n    $tplFormReCaptcha = $modx->getOption(\'tplFormReCaptcha\', $scriptProperties, \'tpl.ecForm.ReCaptcha\');\\n    $data[\'recaptcha\'] = $easyComm->getChunk($tplFormReCaptcha, $data);\\n}\\n\\nreturn $easyComm->getChunk($tplForm, $data);","locked":0,"properties":"a:16:{s:6:\\"thread\\";a:7:{s:4:\\"name\\";s:6:\\"thread\\";s:4:\\"desc\\";s:20:\\"easycomm_prop_thread\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"easycomm:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:6:\\"formId\\";a:7:{s:4:\\"name\\";s:6:\\"formId\\";s:4:\\"desc\\";s:20:\\"easycomm_prop_formId\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"easycomm:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:13:\\"allowedFields\\";a:7:{s:4:\\"name\\";s:13:\\"allowedFields\\";s:4:\\"desc\\";s:27:\\"easycomm_prop_allowedFields\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:54:\\"user_name,user_email,user_contacts,subject,rating,text\\";s:7:\\"lexicon\\";s:19:\\"easycomm:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:14:\\"requiredFields\\";a:7:{s:4:\\"name\\";s:14:\\"requiredFields\\";s:4:\\"desc\\";s:28:\\"easycomm_prop_requiredFields\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:14:\\"user_name,text\\";s:7:\\"lexicon\\";s:19:\\"easycomm:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:13:\\"antispamField\\";a:7:{s:4:\\"name\\";s:13:\\"antispamField\\";s:4:\\"desc\\";s:27:\\"easycomm_prop_antispamField\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:7:\\"address\\";s:7:\\"lexicon\\";s:19:\\"easycomm:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:11:\\"autoPublish\\";a:7:{s:4:\\"name\\";s:11:\\"autoPublish\\";s:4:\\"desc\\";s:25:\\"easycomm_prop_autoPublish\\";s:4:\\"type\\";s:4:\\"list\\";s:7:\\"options\\";a:3:{i:0;a:2:{s:4:\\"text\\";s:2:\\"No\\";s:5:\\"value\\";s:0:\\"\\";}i:1;a:2:{s:4:\\"text\\";s:11:\\"Only logged\\";s:5:\\"value\\";s:10:\\"OnlyLogged\\";}i:2;a:2:{s:4:\\"text\\";s:3:\\"All\\";s:5:\\"value\\";s:3:\\"All\\";}}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"easycomm:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:7:\\"tplForm\\";a:7:{s:4:\\"name\\";s:7:\\"tplForm\\";s:4:\\"desc\\";s:21:\\"easycomm_prop_tplForm\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:10:\\"tpl.ecForm\\";s:7:\\"lexicon\\";s:19:\\"easycomm:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:16:\\"tplFormReCaptcha\\";a:7:{s:4:\\"name\\";s:16:\\"tplFormReCaptcha\\";s:4:\\"desc\\";s:30:\\"easycomm_prop_tplFormReCaptcha\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:20:\\"tpl.ecForm.ReCaptcha\\";s:7:\\"lexicon\\";s:19:\\"easycomm:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:10:\\"tplSuccess\\";a:7:{s:4:\\"name\\";s:10:\\"tplSuccess\\";s:4:\\"desc\\";s:24:\\"easycomm_prop_tplSuccess\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:18:\\"tpl.ecForm.Success\\";s:7:\\"lexicon\\";s:19:\\"easycomm:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:11:\\"mailManager\\";a:7:{s:4:\\"name\\";s:11:\\"mailManager\\";s:4:\\"desc\\";s:25:\\"easycomm_prop_mailManager\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"easycomm:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:16:\\"newEmailSubjUser\\";a:7:{s:4:\\"name\\";s:16:\\"newEmailSubjUser\\";s:4:\\"desc\\";s:30:\\"easycomm_prop_newEmailSubjUser\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"easycomm:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:15:\\"tplNewEmailUser\\";a:7:{s:4:\\"name\\";s:15:\\"tplNewEmailUser\\";s:4:\\"desc\\";s:29:\\"easycomm_prop_tplNewEmailUser\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:25:\\"tpl.ecForm.New.Email.User\\";s:7:\\"lexicon\\";s:19:\\"easycomm:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:19:\\"newEmailSubjManager\\";a:7:{s:4:\\"name\\";s:19:\\"newEmailSubjManager\\";s:4:\\"desc\\";s:33:\\"easycomm_prop_newEmailSubjManager\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"easycomm:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:18:\\"tplNewEmailManager\\";a:7:{s:4:\\"name\\";s:18:\\"tplNewEmailManager\\";s:4:\\"desc\\";s:32:\\"easycomm_prop_tplNewEmailManager\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:28:\\"tpl.ecForm.New.Email.Manager\\";s:7:\\"lexicon\\";s:19:\\"easycomm:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:19:\\"updateEmailSubjUser\\";a:7:{s:4:\\"name\\";s:19:\\"updateEmailSubjUser\\";s:4:\\"desc\\";s:33:\\"easycomm_prop_updateEmailSubjUser\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"easycomm:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:18:\\"tplUpdateEmailUser\\";a:7:{s:4:\\"name\\";s:18:\\"tplUpdateEmailUser\\";s:4:\\"desc\\";s:32:\\"easycomm_prop_tplUpdateEmailUser\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:28:\\"tpl.ecForm.Update.Email.User\\";s:7:\\"lexicon\\";s:19:\\"easycomm:properties\\";s:4:\\"area\\";s:0:\\"\\";}}","moduleguid":"","static":0,"static_file":"core\\/components\\/easycomm\\/elements\\/snippets\\/snippet.ec_form.php","content":"\\/** @var array $scriptProperties *\\/\\n\\/** @var easyComm $easyComm *\\/\\nif (!$easyComm = $modx->getService(\'easyComm\', \'easyComm\', $modx->getOption(\'ec_core_path\', null, $modx->getOption(\'core_path\') . \'components\\/easycomm\\/\') . \'model\\/easycomm\\/\', $scriptProperties)) {\\n    return \'Could not load easyComm class!\';\\n}\\n$easyComm->initialize($modx->context->key, $scriptProperties);\\n\\n$tplForm = $modx->getOption(\'tplForm\', $scriptProperties, \'tpl.ecForm\');\\n$threadName = $modx->getOption(\'thread\', $scriptProperties, \'\');\\nif(empty($threadName)) {\\n    $threadName = \'resource-\'.$modx->resource->get(\'id\');\\n    $scriptProperties[\'thread\'] = $threadName;\\n}\\n$formId = $modx->getOption(\'formId\', $scriptProperties, \'\');\\nif(empty($formId)) {\\n    $formId = $threadName;\\n    $scriptProperties[\'formId\'] = $formId;\\n}\\n\\n\\/\\/ Prepare ecThread\\n\\/** @var ecThread $thread *\\/\\nif (!$thread = $modx->getObject(\'ecThread\', array(\'name\' => $threadName))) {\\n    $thread = $modx->newObject(\'ecThread\');\\n    $thread->fromArray(array(\\n        \'resource\' => $modx->resource->id,\\n        \'name\' => $threadName,\\n        \'title\' => $modx->getOption(\'threadTitle\', $scriptProperties, \'\'),\\n    ));\\n}\\n$thread->set(\'properties\', $scriptProperties);\\n$thread->save();\\n\\n$data = array(\\n    \'fid\' => $formId,\\n    \'thread\' => $thread->get(\'name\'),\\n    \'antispam_field\' => $modx->getOption(\'antispamField\', $scriptProperties)\\n);\\n\\nif ($modx->user->hasSessionContext($modx->context->get(\'key\'))) {\\n    $profile = $modx->user->getOne(\'Profile\');\\n    $data[\'user_name\'] = $profile->get(\'fullname\');\\n    if(empty($data[\'user_name\'])) {\\n        $data[\'user_name\'] = $modx->user->get(\'username\');\\n    }\\n    $data[\'user_email\'] = $profile->get(\'email\');\\n}\\n\\nif($modx->getOption(\'ec_captcha_enable\')) {\\n    $tplFormReCaptcha = $modx->getOption(\'tplFormReCaptcha\', $scriptProperties, \'tpl.ecForm.ReCaptcha\');\\n    $data[\'recaptcha\'] = $easyComm->getChunk($tplFormReCaptcha, $data);\\n}\\n\\nreturn $easyComm->getChunk($tplForm, $data);"}',
        'guid' => '529b237d4860f134a342ad4e6063e552',
        'native_key' => 0,
        'signature' => 'f17a24528e1ebc29eefdbb280c803de7',
      ),
      '27c69403a47da2e9227c59f7931e1632' => 
      array (
        'preserve_keys' => false,
        'update_object' => true,
        'unique_key' => 'name',
        'class' => 'modSnippet',
        'object' => '{"id":0,"source":1,"property_preprocess":0,"name":"ecThreadRating","description":"","editor_type":0,"category":0,"cache_type":0,"snippet":"\\/** @var array $scriptProperties *\\/\\r\\n\\/** @var easyComm $easyComm *\\/\\r\\nif (!$easyComm = $modx->getService(\'easyComm\', \'easyComm\', $modx->getOption(\'ec_core_path\', null, $modx->getOption(\'core_path\') . \'components\\/easycomm\\/\') . \'model\\/easycomm\\/\', $scriptProperties)) {\\r\\n    return \'Could not load easyComm class!\';\\r\\n}\\r\\n\\r\\n\\/* @var string $thread *\\/\\r\\n$thread = $modx->getOption(\'thread\', $scriptProperties, \'\');\\r\\nif(empty($thread)) {\\r\\n    $thread = \'resource-\'.$modx->resource->get(\'id\');\\r\\n}\\r\\n\\r\\n$ratingMax = (float)$modx->getOption(\'ec_rating_max\', $scriptProperties, 5);\\r\\n\\r\\n$data = array(\\r\\n    \'rating_wilson\' => 0,\\r\\n    \'rating_simple\' => 0,\\r\\n    \'rating_wilson_percent\' => 0,\\r\\n    \'rating_simple_percent\' => 0,\\r\\n    \'rating_max\' => $ratingMax,\\r\\n);\\r\\n\\r\\n\\/* @var MODx $modx *\\/\\r\\n\\/* @var ecThread $thread *\\/\\r\\n$thread = $modx->getObject(\'ecThread\', array(\'name\' => $thread));\\r\\n\\r\\nif(!empty($thread)) {\\r\\n    $data = array_merge(\\r\\n        $data,\\r\\n        $thread->toArray(),\\r\\n        array(\\r\\n            \'rating_wilson_percent\' => number_format($thread->get(\'rating_wilson\') \\/ $ratingMax * 100, 3),\\r\\n            \'rating_simple_percent\' => number_format($thread->get(\'rating_simple\') \\/ $ratingMax * 100, 3),\\r\\n        )\\r\\n    );\\r\\n}\\r\\n\\r\\n$tpl = $modx->getOption(\'tpl\', $scriptProperties, \'\');\\r\\n$fastMode = !empty($fastMode);\\r\\n$output = $easyComm->getChunk($tpl, $data, $fastMode);\\r\\n\\r\\n$toPlaceholder = $modx->getOption(\'toPlaceholder\', $scriptProperties, \'\');\\r\\nif (!empty($toPlaceholder)) {\\r\\n    $modx->setPlaceholder($toPlaceholder, $output);\\r\\n}\\r\\nelse {\\r\\n    return $output;\\r\\n}","locked":0,"properties":"a:3:{s:6:\\"thread\\";a:7:{s:4:\\"name\\";s:6:\\"thread\\";s:4:\\"desc\\";s:20:\\"easycomm_prop_thread\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"easycomm:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:3:\\"tpl\\";a:7:{s:4:\\"name\\";s:3:\\"tpl\\";s:4:\\"desc\\";s:17:\\"easycomm_prop_tpl\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:18:\\"tpl.ecThreadRating\\";s:7:\\"lexicon\\";s:19:\\"easycomm:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:13:\\"toPlaceholder\\";a:7:{s:4:\\"name\\";s:13:\\"toPlaceholder\\";s:4:\\"desc\\";s:27:\\"easycomm_prop_toPlaceholder\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"easycomm:properties\\";s:4:\\"area\\";s:0:\\"\\";}}","moduleguid":"","static":0,"static_file":"core\\/components\\/easycomm\\/elements\\/snippets\\/snippet.ec_thread_rating.php","content":"\\/** @var array $scriptProperties *\\/\\r\\n\\/** @var easyComm $easyComm *\\/\\r\\nif (!$easyComm = $modx->getService(\'easyComm\', \'easyComm\', $modx->getOption(\'ec_core_path\', null, $modx->getOption(\'core_path\') . \'components\\/easycomm\\/\') . \'model\\/easycomm\\/\', $scriptProperties)) {\\r\\n    return \'Could not load easyComm class!\';\\r\\n}\\r\\n\\r\\n\\/* @var string $thread *\\/\\r\\n$thread = $modx->getOption(\'thread\', $scriptProperties, \'\');\\r\\nif(empty($thread)) {\\r\\n    $thread = \'resource-\'.$modx->resource->get(\'id\');\\r\\n}\\r\\n\\r\\n$ratingMax = (float)$modx->getOption(\'ec_rating_max\', $scriptProperties, 5);\\r\\n\\r\\n$data = array(\\r\\n    \'rating_wilson\' => 0,\\r\\n    \'rating_simple\' => 0,\\r\\n    \'rating_wilson_percent\' => 0,\\r\\n    \'rating_simple_percent\' => 0,\\r\\n    \'rating_max\' => $ratingMax,\\r\\n);\\r\\n\\r\\n\\/* @var MODx $modx *\\/\\r\\n\\/* @var ecThread $thread *\\/\\r\\n$thread = $modx->getObject(\'ecThread\', array(\'name\' => $thread));\\r\\n\\r\\nif(!empty($thread)) {\\r\\n    $data = array_merge(\\r\\n        $data,\\r\\n        $thread->toArray(),\\r\\n        array(\\r\\n            \'rating_wilson_percent\' => number_format($thread->get(\'rating_wilson\') \\/ $ratingMax * 100, 3),\\r\\n            \'rating_simple_percent\' => number_format($thread->get(\'rating_simple\') \\/ $ratingMax * 100, 3),\\r\\n        )\\r\\n    );\\r\\n}\\r\\n\\r\\n$tpl = $modx->getOption(\'tpl\', $scriptProperties, \'\');\\r\\n$fastMode = !empty($fastMode);\\r\\n$output = $easyComm->getChunk($tpl, $data, $fastMode);\\r\\n\\r\\n$toPlaceholder = $modx->getOption(\'toPlaceholder\', $scriptProperties, \'\');\\r\\nif (!empty($toPlaceholder)) {\\r\\n    $modx->setPlaceholder($toPlaceholder, $output);\\r\\n}\\r\\nelse {\\r\\n    return $output;\\r\\n}"}',
        'guid' => 'a933c00b32fdc8cc1089df3b7b0c1ed4',
        'native_key' => 0,
        'signature' => '2d6f698b3a3d3d7f66d7c8653bc88dd5',
      ),
    ),
    'Plugins' => 
    array (
      '28a2a8cdfba07e45553c8a208146debe' => 
      array (
        'preserve_keys' => false,
        'update_object' => true,
        'unique_key' => 'name',
        'class' => 'modPlugin',
        'object' => '{"id":null,"source":1,"property_preprocess":0,"name":"easyComm","description":"","editor_type":0,"category":0,"cache_type":0,"plugincode":"\\/** @var array $scriptProperties *\\/\\nswitch ($modx->event->name) {\\n    case \'OnDocFormRender\':\\n        \\/** @var modResource $resource *\\/\\n        if ($mode == \'new\') {\\n            return;\\n        }\\n\\n        $template = $resource->get(\'template\');\\n        $showTemplates = trim($modx->getOption(\'ec_show_templates\'));\\n        $showResources = trim($modx->getOption(\'ec_show_resources\'));\\n        $showTab = false;\\n        if($showTemplates == \'*\' || $showResources == \'*\') {\\n            $showTab = true;\\n        }\\n        else {\\n            $showTemplates = array_map(\'trim\', explode(\',\', $showTemplates));\\n            $showResources = array_map(\'trim\', explode(\',\', $showResources));\\n            if (in_array($template, $showTemplates) || in_array($resource->get(\'id\'), $showResources)) {\\n                $showTab = true;\\n            }\\n        }\\n\\n        if(!$showTab) {\\n            return;\\n        }\\n\\n        $modx23 = !empty($modx->version) && version_compare($modx->version[\'full_version\'], \'2.3.0\', \'>=\');\\n        $modx->controller->addHtml(\'<script type=\\"text\\/javascript\\">\\n\\t\\t\\tExt.onReady(function() {\\n\\t\\t\\t\\tMODx.modx23 = \' . (int)$modx23 . \';\\n\\t\\t\\t});\\n\\t\\t<\\/script>\');\\n\\n\\n        \\/** @var easyComm $easyComm *\\/\\n        $easyComm = $modx->getService(\'easyComm\', \'easyComm\', MODX_CORE_PATH.\'components\\/easycomm\\/model\\/easycomm\\/\');\\n        $modx->controller->addLexiconTopic(\'easycomm:default\');\\n        $url = $easyComm->config[\'assetsUrl\'];\\n        $modx->controller->addJavascript($url . \'js\\/mgr\\/easycomm.js\');\\n\\n        $modx->controller->addLastJavascript($url . \'js\\/mgr\\/misc\\/utils.js\');\\n        $modx->controller->addLastJavascript($url . \'js\\/mgr\\/widgets\\/threads.grid.js\');\\n        $modx->controller->addLastJavascript($url . \'js\\/mgr\\/widgets\\/threads.windows.js\');\\n        $modx->controller->addLastJavascript($url . \'js\\/mgr\\/widgets\\/messages.grid.js\');\\n        $modx->controller->addLastJavascript($url . \'js\\/mgr\\/widgets\\/messages.windows.js\');\\n        $modx->controller->addLastJavascript($url . \'js\\/mgr\\/widgets\\/page.panel.js\');\\n\\n        $modx->controller->addCss($url . \'css\\/mgr\\/main.css\');\\n\\n        \\/\\/ TODO: \\u0440\\u0430\\u0437\\u043e\\u0431\\u0440\\u0430\\u0442\\u044c\\u0441\\u044f, \\u043f\\u043e\\u0447\\u0435\\u043c\\u0443 \\u0431\\u0435\\u0437 \\u044d\\u0442\\u043e\\u0433\\u043e \\u043d\\u0435 \\u0440\\u0430\\u0431\\u043e\\u0442\\u0430\\u0435\\u0442 \\u043f\\u043e\\u0434\\u043a\\u043b\\u044e\\u0447\\u0435\\u043d\\u0438\\u0435 \\u043f\\u043b\\u0430\\u0433\\u0438\\u043d\\u043e\\u0432\\n        $modx->newObject(\'ecMessage\');\\n\\n        $pluginsJS = $easyComm->getPluginsJS();\\n        if(!empty($pluginsJS)){\\n            foreach($pluginsJS as $js) {\\n                $modx->controller->addJavascript($js);\\n            }\\n        }\\n\\n        $defaultReplyAuthor = \'\';\\n        if($modx->getOption(\'ec_auto_reply_author\')) {\\n            $defaultReplyAuthor = addslashes($modx->user->getOne(\'Profile\')->get(\'fullname\'));\\n        }\\n\\n        $defaultThread = $modx->getObject(\'ecThread\', array(\'name\' => \'resource-\'.$resource->get(\'id\')));\\n        $defaultThread = $defaultThread ? $defaultThread->get(\'id\') : \'null\';\\n\\n        $ecConfig = \'\\n            easyComm.config.rating_visual_editor = \' . $modx->getOption(\'ec_rating_visual_editor\', null, true ) . \';\\n            easyComm.config.thread_fields = \' . json_encode($easyComm->getThreadFields()) . \';\\n            easyComm.config.thread_grid_fields = \' . json_encode($easyComm->getThreadGridFields()) . \';\\n            easyComm.config.thread_window_fields = \' . json_encode($easyComm->getThreadWindowFields()) . \';\\n            easyComm.config.message_fields = \' . json_encode($easyComm->getMessageFields()) . \';\\n            easyComm.config.message_grid_fields = \' . json_encode($easyComm->getMessageGridFields()) . \';\\n            easyComm.config.message_window_layout = \' . $easyComm->getMessageWindowLayout() . \';\\n            easyComm.config.default_reply_author = \\"\' . $defaultReplyAuthor . \'\\";\\n            easyComm.config.default_resource = \' . $resource->get(\'id\') . \';\\n            easyComm.config.default_thread = \' . $defaultThread . \';\\n            easyComm.config.default_rating = \' . $modx->getOption(\'ec_rating_default\', null, \'\\"\\"\') . \';\\n        \';\\n\\n        if ($modx->getCount(\'modPlugin\', array(\'name\' => \'AjaxManager\', \'disabled\' => false))) {\\n            $modx->controller->addHtml(\'\\n\\t\\t\\t<script type=\\"text\\/javascript\\">\\n\\t\\t\\t\\teasyComm.config = \' . $modx->toJSON($easyComm->config) . \';\\n\\t\\t\\t\\teasyComm.config.connector_url = \\"\' . $easyComm->config[\'connectorUrl\'] . \'\\";\\n\\t\\t\\t\\t\'.$ecConfig.\'\\n\\t\\t\\t\\tExt.onReady(function() {\\n\\t\\t\\t\\t\\twindow.setTimeout(function() {\\n\\t\\t\\t\\t\\t\\tvar tabs = Ext.getCmp(\\"modx-resource-tabs\\");\\n\\t\\t\\t\\t\\t\\tif (tabs) {\\n\\t\\t\\t\\t\\t\\t\\ttabs.add({\\n\\t\\t\\t\\t\\t\\t\\t\\txtype: \\"ec-panel-page\\",\\n\\t\\t\\t\\t\\t\\t\\t\\tid: \\"ec-panel-page\\",\\n\\t\\t\\t\\t\\t\\t\\t\\ttitle: _(\\"ec\\"),\\n\\t\\t\\t\\t\\t\\t\\t\\trecord: {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tid: \' . $resource->get(\'id\') . \'\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}, 10);\\n\\t\\t\\t\\t});\\n\\t\\t\\t<\\/script>\');\\n        }\\n        else {\\n            $modx->controller->addHtml(\'\\n\\t\\t\\t<script type=\\"text\\/javascript\\">\\n\\t\\t\\t\\teasyComm.config = \' . $modx->toJSON($easyComm->config) . \';\\n\\t\\t\\t\\teasyComm.config.connector_url = \\"\' . $easyComm->config[\'connectorUrl\'] . \'\\";\\n\\t\\t\\t\\t\'.$ecConfig.\'\\n\\t\\t\\t\\tExt.ComponentMgr.onAvailable(\\"modx-resource-tabs\\", function() {\\n\\t\\t\\t\\t\\tthis.on(\\"beforerender\\", function() {\\n\\t\\t\\t\\t\\t\\tthis.add({\\n\\t\\t\\t\\t\\t\\t\\txtype: \\"ec-panel-page\\",\\n\\t\\t\\t\\t\\t\\t\\tid: \\"ec-panel-page\\",\\n\\t\\t\\t\\t\\t\\t\\ttitle: _(\\"ec\\"),\\n\\t\\t\\t\\t\\t\\t\\trecord: {\\n\\t\\t\\t\\t\\t\\t\\t\\tid: \' . $resource->get(\'id\') . \'\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\tExt.apply(this, {\\n\\t\\t\\t\\t\\t\\t\\tstateful: true,\\n\\t\\t\\t\\t\\t\\t\\tstateId: \\"modx-resource-tabs-state\\",\\n\\t\\t\\t\\t\\t\\t\\tstateEvents: [\\"tabchange\\"],\\n\\t\\t\\t\\t\\t\\t\\tgetState: function() {return {activeTab:this.items.indexOf(this.getActiveTab())};\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t});\\n\\t\\t\\t<\\/script>\');\\n        }\\n\\n        break;\\n}","locked":0,"properties":null,"disabled":0,"moduleguid":"","static":0,"static_file":"core\\/components\\/easycomm\\/elements\\/plugins\\/plugin.easycomm.php","content":"\\/** @var array $scriptProperties *\\/\\nswitch ($modx->event->name) {\\n    case \'OnDocFormRender\':\\n        \\/** @var modResource $resource *\\/\\n        if ($mode == \'new\') {\\n            return;\\n        }\\n\\n        $template = $resource->get(\'template\');\\n        $showTemplates = trim($modx->getOption(\'ec_show_templates\'));\\n        $showResources = trim($modx->getOption(\'ec_show_resources\'));\\n        $showTab = false;\\n        if($showTemplates == \'*\' || $showResources == \'*\') {\\n            $showTab = true;\\n        }\\n        else {\\n            $showTemplates = array_map(\'trim\', explode(\',\', $showTemplates));\\n            $showResources = array_map(\'trim\', explode(\',\', $showResources));\\n            if (in_array($template, $showTemplates) || in_array($resource->get(\'id\'), $showResources)) {\\n                $showTab = true;\\n            }\\n        }\\n\\n        if(!$showTab) {\\n            return;\\n        }\\n\\n        $modx23 = !empty($modx->version) && version_compare($modx->version[\'full_version\'], \'2.3.0\', \'>=\');\\n        $modx->controller->addHtml(\'<script type=\\"text\\/javascript\\">\\n\\t\\t\\tExt.onReady(function() {\\n\\t\\t\\t\\tMODx.modx23 = \' . (int)$modx23 . \';\\n\\t\\t\\t});\\n\\t\\t<\\/script>\');\\n\\n\\n        \\/** @var easyComm $easyComm *\\/\\n        $easyComm = $modx->getService(\'easyComm\', \'easyComm\', MODX_CORE_PATH.\'components\\/easycomm\\/model\\/easycomm\\/\');\\n        $modx->controller->addLexiconTopic(\'easycomm:default\');\\n        $url = $easyComm->config[\'assetsUrl\'];\\n        $modx->controller->addJavascript($url . \'js\\/mgr\\/easycomm.js\');\\n\\n        $modx->controller->addLastJavascript($url . \'js\\/mgr\\/misc\\/utils.js\');\\n        $modx->controller->addLastJavascript($url . \'js\\/mgr\\/widgets\\/threads.grid.js\');\\n        $modx->controller->addLastJavascript($url . \'js\\/mgr\\/widgets\\/threads.windows.js\');\\n        $modx->controller->addLastJavascript($url . \'js\\/mgr\\/widgets\\/messages.grid.js\');\\n        $modx->controller->addLastJavascript($url . \'js\\/mgr\\/widgets\\/messages.windows.js\');\\n        $modx->controller->addLastJavascript($url . \'js\\/mgr\\/widgets\\/page.panel.js\');\\n\\n        $modx->controller->addCss($url . \'css\\/mgr\\/main.css\');\\n\\n        \\/\\/ TODO: \\u0440\\u0430\\u0437\\u043e\\u0431\\u0440\\u0430\\u0442\\u044c\\u0441\\u044f, \\u043f\\u043e\\u0447\\u0435\\u043c\\u0443 \\u0431\\u0435\\u0437 \\u044d\\u0442\\u043e\\u0433\\u043e \\u043d\\u0435 \\u0440\\u0430\\u0431\\u043e\\u0442\\u0430\\u0435\\u0442 \\u043f\\u043e\\u0434\\u043a\\u043b\\u044e\\u0447\\u0435\\u043d\\u0438\\u0435 \\u043f\\u043b\\u0430\\u0433\\u0438\\u043d\\u043e\\u0432\\n        $modx->newObject(\'ecMessage\');\\n\\n        $pluginsJS = $easyComm->getPluginsJS();\\n        if(!empty($pluginsJS)){\\n            foreach($pluginsJS as $js) {\\n                $modx->controller->addJavascript($js);\\n            }\\n        }\\n\\n        $defaultReplyAuthor = \'\';\\n        if($modx->getOption(\'ec_auto_reply_author\')) {\\n            $defaultReplyAuthor = addslashes($modx->user->getOne(\'Profile\')->get(\'fullname\'));\\n        }\\n\\n        $defaultThread = $modx->getObject(\'ecThread\', array(\'name\' => \'resource-\'.$resource->get(\'id\')));\\n        $defaultThread = $defaultThread ? $defaultThread->get(\'id\') : \'null\';\\n\\n        $ecConfig = \'\\n            easyComm.config.rating_visual_editor = \' . $modx->getOption(\'ec_rating_visual_editor\', null, true ) . \';\\n            easyComm.config.thread_fields = \' . json_encode($easyComm->getThreadFields()) . \';\\n            easyComm.config.thread_grid_fields = \' . json_encode($easyComm->getThreadGridFields()) . \';\\n            easyComm.config.thread_window_fields = \' . json_encode($easyComm->getThreadWindowFields()) . \';\\n            easyComm.config.message_fields = \' . json_encode($easyComm->getMessageFields()) . \';\\n            easyComm.config.message_grid_fields = \' . json_encode($easyComm->getMessageGridFields()) . \';\\n            easyComm.config.message_window_layout = \' . $easyComm->getMessageWindowLayout() . \';\\n            easyComm.config.default_reply_author = \\"\' . $defaultReplyAuthor . \'\\";\\n            easyComm.config.default_resource = \' . $resource->get(\'id\') . \';\\n            easyComm.config.default_thread = \' . $defaultThread . \';\\n            easyComm.config.default_rating = \' . $modx->getOption(\'ec_rating_default\', null, \'\\"\\"\') . \';\\n        \';\\n\\n        if ($modx->getCount(\'modPlugin\', array(\'name\' => \'AjaxManager\', \'disabled\' => false))) {\\n            $modx->controller->addHtml(\'\\n\\t\\t\\t<script type=\\"text\\/javascript\\">\\n\\t\\t\\t\\teasyComm.config = \' . $modx->toJSON($easyComm->config) . \';\\n\\t\\t\\t\\teasyComm.config.connector_url = \\"\' . $easyComm->config[\'connectorUrl\'] . \'\\";\\n\\t\\t\\t\\t\'.$ecConfig.\'\\n\\t\\t\\t\\tExt.onReady(function() {\\n\\t\\t\\t\\t\\twindow.setTimeout(function() {\\n\\t\\t\\t\\t\\t\\tvar tabs = Ext.getCmp(\\"modx-resource-tabs\\");\\n\\t\\t\\t\\t\\t\\tif (tabs) {\\n\\t\\t\\t\\t\\t\\t\\ttabs.add({\\n\\t\\t\\t\\t\\t\\t\\t\\txtype: \\"ec-panel-page\\",\\n\\t\\t\\t\\t\\t\\t\\t\\tid: \\"ec-panel-page\\",\\n\\t\\t\\t\\t\\t\\t\\t\\ttitle: _(\\"ec\\"),\\n\\t\\t\\t\\t\\t\\t\\t\\trecord: {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tid: \' . $resource->get(\'id\') . \'\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}, 10);\\n\\t\\t\\t\\t});\\n\\t\\t\\t<\\/script>\');\\n        }\\n        else {\\n            $modx->controller->addHtml(\'\\n\\t\\t\\t<script type=\\"text\\/javascript\\">\\n\\t\\t\\t\\teasyComm.config = \' . $modx->toJSON($easyComm->config) . \';\\n\\t\\t\\t\\teasyComm.config.connector_url = \\"\' . $easyComm->config[\'connectorUrl\'] . \'\\";\\n\\t\\t\\t\\t\'.$ecConfig.\'\\n\\t\\t\\t\\tExt.ComponentMgr.onAvailable(\\"modx-resource-tabs\\", function() {\\n\\t\\t\\t\\t\\tthis.on(\\"beforerender\\", function() {\\n\\t\\t\\t\\t\\t\\tthis.add({\\n\\t\\t\\t\\t\\t\\t\\txtype: \\"ec-panel-page\\",\\n\\t\\t\\t\\t\\t\\t\\tid: \\"ec-panel-page\\",\\n\\t\\t\\t\\t\\t\\t\\ttitle: _(\\"ec\\"),\\n\\t\\t\\t\\t\\t\\t\\trecord: {\\n\\t\\t\\t\\t\\t\\t\\t\\tid: \' . $resource->get(\'id\') . \'\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\tExt.apply(this, {\\n\\t\\t\\t\\t\\t\\t\\tstateful: true,\\n\\t\\t\\t\\t\\t\\t\\tstateId: \\"modx-resource-tabs-state\\",\\n\\t\\t\\t\\t\\t\\t\\tstateEvents: [\\"tabchange\\"],\\n\\t\\t\\t\\t\\t\\t\\tgetState: function() {return {activeTab:this.items.indexOf(this.getActiveTab())};\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t});\\n\\t\\t\\t<\\/script>\');\\n        }\\n\\n        break;\\n}"}',
        'guid' => 'a041e0c3842edfe323823440ecf42253',
        'native_key' => NULL,
        'signature' => 'ff7b0033396b654bdf158b1f45ffc4e2',
        'related_objects' => 
        array (
          'PluginEvents' => 
          array (
            'cea1e904e56a7e8908fce99c1e4cd8e5' => 
            array (
              'preserve_keys' => true,
              'update_object' => true,
              'unique_key' => 
              array (
                0 => 'pluginid',
                1 => 'event',
              ),
              'class' => 'modPluginEvent',
              'object' => '{"pluginid":0,"event":"OnDocFormRender","priority":0,"propertyset":0}',
              'guid' => 'f036adab77f466abd5678330c25bec15',
              'native_key' => 
              array (
                0 => 0,
                1 => 'OnDocFormRender',
              ),
              'signature' => '5c9eeeea2b864fa61b4c806d9c5a9dff',
            ),
          ),
        ),
      ),
    ),
  ),
  'related_object_attributes' => 
  array (
    'Snippets' => 
    array (
      'preserve_keys' => false,
      'update_object' => true,
      'unique_key' => 'name',
    ),
    'Chunks' => 
    array (
      'preserve_keys' => false,
      'update_object' => false,
      'unique_key' => 'name',
    ),
    'Plugins' => 
    array (
      'preserve_keys' => false,
      'update_object' => true,
      'unique_key' => 'name',
    ),
    'PluginEvents' => 
    array (
      'preserve_keys' => true,
      'update_object' => true,
      'unique_key' => 
      array (
        0 => 'pluginid',
        1 => 'event',
      ),
    ),
  ),
  'namespace' => 'easycomm',
  'resolve' => 
  array (
    0 => 
    array (
      'type' => 'file',
      'body' => '{"source":"easycomm-1.4.3-pl\\/modCategory\\/93c81e6bc43ce035c5819aa6c52318e2\\/0\\/","target":"return MODX_ASSETS_PATH . \'components\\/\';","name":"easycomm"}',
    ),
    1 => 
    array (
      'type' => 'file',
      'body' => '{"source":"easycomm-1.4.3-pl\\/modCategory\\/93c81e6bc43ce035c5819aa6c52318e2\\/1\\/","target":"return MODX_CORE_PATH . \'components\\/\';","name":"easycomm"}',
    ),
    2 => 
    array (
      'type' => 'php',
      'body' => '{"source":"easycomm-1.4.3-pl\\/modCategory\\/93c81e6bc43ce035c5819aa6c52318e2.resolve.tables.resolver","type":"php","name":"resolve.tables"}',
    ),
    3 => 
    array (
      'type' => 'php',
      'body' => '{"source":"easycomm-1.4.3-pl\\/modCategory\\/93c81e6bc43ce035c5819aa6c52318e2.resolve.chunks.resolver","type":"php","name":"resolve.chunks"}',
    ),
  ),
  'validate' => NULL,
  'vehicle_package' => 'transport',
  'vehicle_class' => 'xPDOObjectVehicle',
  'guid' => 'b5f9a4463450d3e53b31117dd88adb7e',
  'package' => 'modx',
  'class' => 'modCategory',
  'signature' => '93c81e6bc43ce035c5819aa6c52318e2',
  'native_key' => NULL,
  'object' => '{"id":null,"parent":0,"category":"easyComm"}',
);